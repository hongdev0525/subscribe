(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3243:function(n,e,o){"use strict";o.r(e),o.d(e,{default:function(){return A}});var t=o(7294),i=o(9521),r=o(29),a=o(9499),c=o(7794),s=o.n(c),l=o(1896),d=o(1569),p=i.ZP.h1.withConfig({displayName:"MemberComponent__Title",componentId:"sc-1twesre-0"})(["margin-top:80px;font-size:28px;font-weight:",";color:#232323;"],(0,d.U)("medium")),u=i.ZP.input.withConfig({displayName:"MemberComponent__Input",componentId:"sc-1twesre-1"})(["height:56px;width:364px;border:none;border-bottom:1px solid #dbdbdb;padding:0 10px;::placeholder{font-size:16px;font-weight:normal;color:#767676;}"]),f=i.ZP.p.withConfig({displayName:"MemberComponent__NoticeInfo",componentId:"sc-1twesre-2"})(["display:flex;align-items:center;font-size:14px;font-weight:normal;text-align:left;color:#dc5f00;margin:4px 0 16px 0;"]),h=i.ZP.button.withConfig({displayName:"MemberComponent__Button",componentId:"sc-1twesre-3"})(["width:364px;height:56px;border-radius:12px;background-color:",";color:",";border:",";font-size:16px;font-weight:600;cursor:pointer;"],function(n){return n.background},function(n){return n.color},function(n){return n.border}),g=o(8767),m=o(1163),x=o.n(m),b=o(5675),w=o.n(b),y=o(3735),_=o(5518),j=o(35),C=o(5893),v=o(3454);function P(n,e){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),o.push.apply(o,t)}return o}function k(n){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?P(Object(o),!0).forEach(function(e){(0,a.Z)(n,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):P(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})}return n}var I=i.ZP.div.withConfig({displayName:"Login__LoginContainer",componentId:"sc-162j7hy-0"})(["display:flex;align-items:center;justify-content:center;flex-direction:column;width:100%;"]),L=i.ZP.div.withConfig({displayName:"Login__LoginGroup",componentId:"sc-162j7hy-1"})(["display:flex;box-sizing:border-box;flex-direction:column;width:460px;margin-top:24px;margin-bottom:170px;padding:40px 48px;border-radius:10px;background-color:#ffffff;box-shadow:0 0 10px rgba(0,0,0,0.1);@media ","{box-shadow:none;width:100%;padding:0 24px;}"],y.Uh.mobileL),N=i.ZP.div.withConfig({displayName:"Login__ButtonGroup",componentId:"sc-162j7hy-2"})(["display:flex;flex-direction:column;margin-top:43px;margin-bottom:40px;gap:16px;@media ","{margin-top:20px;button{width:100%;font-size:16px;font-weight:",";line-height:28px;gap:11px;border-radius:5px;}}"],y.Uh.mobileL,(0,y.Ue)("medium")),E=i.ZP.div.withConfig({displayName:"Login__LoginInputContainer",componentId:"sc-162j7hy-3"})(["width:100%;"]),O=i.ZP.div.withConfig({displayName:"Login__LoginInputGroup",componentId:"sc-162j7hy-4"})(["display:flex;justify-content:center;flex-direction:column;margin-bottom:16px;@media ","{margin-bottom:10px;input{width:100%;background-color:#F3F3F7;border:none;padding:0 12px;margin-bottom:0px;}input::placeholder{font-size:14px;line-height:28px;font-weight:",";color:#999999}p{margin-top:4px;padding-left:12px;}}"],y.Uh.mobileL,(0,y.Ue)("regular")),Z=i.ZP.div.withConfig({displayName:"Login__AccountGroup",componentId:"sc-162j7hy-5"})(["display:flex;justify-content:space-between;margin-top:20px;"]),B=i.ZP.div.withConfig({displayName:"Login__MaintainLogin",componentId:"sc-162j7hy-6"})(["display:flex;align-items:center;"]);i.ZP.div.withConfig({displayName:"Login__CheckInputOff",componentId:"sc-162j7hy-7"})(["display:flex;width:19px;height:19px;border-radius:100%;border:1px solid #bababa;"]),i.ZP.label.withConfig({displayName:"Login__CheckLabel",componentId:"sc-162j7hy-8"})(["display:flex;margin-left:6px;font-size:16px;font-weight:normal;"]);var z=i.ZP.div.withConfig({displayName:"Login__FindAccount",componentId:"sc-162j7hy-9"})(["font-size:16px;font-weight:normal;color:#767676;cursor:pointer;@media ","{display:flex;justify-content:center;font-size:14px;font-weight:",";color:#767676;padding:30px 0;border-bottom:1px solid #DBDBDB;span{display:block;color:#DBDBDB;margin:0 10px;}}"],y.Uh.mobileL,(0,y.Ue)("regular")),D=(0,i.ZP)(p).withConfig({displayName:"Login__LoginTitle",componentId:"sc-162j7hy-10"})(["@media ","{font-size:20px;line-height:28px;font-weight:",";}"],y.Uh.mobileL,(0,y.Ue)("regular")),U=i.ZP.p.withConfig({displayName:"Login__KakaoNotice",componentId:"sc-162j7hy-11"})(["font-size:14px;line-height:28px;font-weight:",";margin:30px auto;"],(0,y.Ue)("regular"));(0,i.ZP)(w()).withConfig({displayName:"Login__KakaologinButton",componentId:"sc-162j7hy-12"})(["object-fit:cover;"]);var K=function(){(0,m.useRouter)();var n,e=(0,t.useState)(),o=e[0],i=e[1],c=(0,t.useState)({}),d=c[0],p=c[1],b=(0,t.useState)(!1);b[0],b[1];var w=(0,t.useState)(null),y=w[0],P=w[1],K=(0,t.useRef)(null),T=(0,g.useQuery)(["requestLogin",d],function(){return F(d)},{enabled:!1,onSuccess:function(n){if(200===n.status){var e=n.data;"not found"===e.status?alert("회원정보가 없습니다."):"fail"===e.status&&"Wrong password"===e.error?alert("비밀번호가 일치하지 않습니다."):(j.y.setItemWithExpireTime("loggedIn",!0,1296e4),location.replace("/"))}else console.error(n)},onError:function(n){alert("로그인에 실패했습니다."),console.error("Error Occured : ",n)}}).refetch,A=function(n){var e=n.target.value;return/^([a-z0-9\+_\-]+)(\.[a-z0-9\+_\-]+)*@([a-z0-9\-]+\.)+[a-z]{2,6}$/i.test(e)?i(!0):i(!1),{value:e,validation:!1}},S=function(n){p(k(k({},d),{},(0,a.Z)({},n.target.id,n.target.value)))},F=(n=(0,r.Z)(s().mark(function n(e){return s().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,l.Y)({method:"POST",data:e,withCredentials:!0,url:"".concat(v.env.NEXT_PUBLIC_API_SERVER,"/login")});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},n)})),function(e){return n.apply(this,arguments)}),M=function(){var n,e;if(0===Object.keys(d).length)return alert("로그인정보를 입력해주세요."),!1;d.userEmail&&(null===(n=d.userEmail)||void 0===n?void 0:n.length)!==0?d.userPassword&&(null===(e=d.userPassword)||void 0===e?void 0:e.length)!==0?T():alert("비밀번호를 입력해주세요."):alert("아이디를 입력해주세요.")},R=function(n){x().push(n)},X=function(){var n="https://kauth.kakao.com/oauth/authorize?response_type=code&client_id=".concat(v.env.NEXT_PUBLIC_KAKAO_RESTAPI_KEY,"&redirect_uri=").concat(v.env.NEXT_PUBLIC_DOMAIN+"/login/kakaologin");location.href=n};function G(n){"Enter"===n.key&&M()}return(0,t.useEffect)(function(){P(_.tq),Kakao&&!Kakao.isInitialized()&&Kakao.init("".concat(v.env.NEXT_PUBLIC_KAKAO_JAVASCRIPT_KEY))},[]),(0,C.jsxs)(I,{children:[(0,C.jsx)(D,{children:"로그인"}),!y&&(0,C.jsxs)(L,{children:[(0,C.jsxs)(E,{children:[(0,C.jsxs)(O,{children:[(0,C.jsx)(u,{id:"userEmail",type:"email",name:"email",placeholder:"이메일을 입력하세요",onBlur:function(n){return A(n)},onChange:S,ref:K,onKeyDown:G}),!1===o&&(0,C.jsx)(f,{children:"이메일을 정확히 입력해주세요"})]}),(0,C.jsx)(O,{children:(0,C.jsx)(u,{id:"userPassword",type:"password",name:"password",placeholder:"비밀번호를 입력하세요",onChange:S,ref:K,onKeyDown:G})})]}),(0,C.jsxs)(Z,{children:[(0,C.jsx)(B,{}),(0,C.jsx)(z,{onClick:function(){return R("/login/find")},children:"아이디/비밀번호 찾기"})]}),(0,C.jsxs)(N,{children:[(0,C.jsx)(h,{onClick:function(){return M()},color:"#ffffff",background:"#dc5f00",border:"none",children:"로그인 하기"}),(0,C.jsx)(h,{onClick:X,color:"#000000",background:"#FEE500",border:"none",children:"카카오로 시작하기"})]}),(0,C.jsx)(h,{onClick:function(){return R("/signup")},color:"#000000",background:"#ffffff",border:"1px solid #DBDBDB",children:"회원가입 하기"})]}),y&&(0,C.jsxs)(L,{children:[(0,C.jsxs)(E,{children:[(0,C.jsxs)(O,{children:[(0,C.jsx)(u,{id:"userEmail",type:"email",name:"email",placeholder:"이메일을 입력하세요",onBlur:function(n){return A(n)},onChange:S}),!1===o&&(0,C.jsx)(f,{children:"이메일을 정확히 입력해주세요"})]}),(0,C.jsx)(O,{children:(0,C.jsx)(u,{id:"userPassword",type:"password",name:"password",placeholder:"비밀번호를 입력하세요",onChange:S})})]}),(0,C.jsxs)(N,{children:[(0,C.jsx)(h,{onClick:function(){return M()},color:"#ffffff",background:"#dc5f00",border:"none",children:"로그인"}),(0,C.jsx)(h,{onClick:function(){return R("/signup")},color:"#000000",background:"#ffffff",border:"1px solid #DBDBDB",children:"회원가입 하기"}),(0,C.jsxs)(z,{onClick:function(){return R("/login/find")},children:["아이디찾기 ",(0,C.jsx)("span",{children:"|"})," 비밀번호 찾기"]}),(0,C.jsx)(U,{children:"카카오로 간편하게 시작하세요"}),(0,C.jsx)(h,{onClick:X,color:"#000000",background:"#FEE500",border:"none",children:"카카오로 시작하기"})]})]})]})},T=i.ZP.div.withConfig({displayName:"login__LoginWrapper",componentId:"sc-169e2zk-0"})(["display:flex;justify-content:center;width:100%;height:100%;"]),A=function(){return(0,C.jsx)(T,{children:(0,C.jsx)(K,{})})}},2070:function(n,e,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return o(3243)}])},29:function(n,e,o){"use strict";function t(n,e,o,t,i,r,a){try{var c=n[r](a),s=c.value}catch(l){o(l);return}c.done?e(s):Promise.resolve(s).then(t,i)}function i(n){return function(){var e=this,o=arguments;return new Promise(function(i,r){var a=n.apply(e,o);function c(n){t(a,i,r,c,s,"next",n)}function s(n){t(a,i,r,c,s,"throw",n)}c(void 0)})}}o.d(e,{Z:function(){return i}})}},function(n){n.O(0,[774,888,179],function(){return n(n.s=2070)}),_N_E=n.O()}]);