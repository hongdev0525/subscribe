(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[37],{9691:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return S}});var r=t(9499),i=t(29),o=t(7794),a=t.n(o),s=t(9521),c=t(7294),l=t(8767),u=t(1163),m=t.n(u),p=t(5675),d=t.n(p),f=t(3735);t(5518);var h=t(1896),g=t(8802),x=t.n(g),w=t(5893),b=t(3454);function _(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function C(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_(Object(t),!0).forEach(function(n){(0,r.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var y=s.ZP.div.withConfig({displayName:"ConfirmUser__ConfirmUserWrapper",componentId:"sc-mtwu0z-0"})(["display:flex;flex-direction:column;align-items:center;margin:164px 0 170px;@media ","{margin:73px 0 120px;}"],f.Uh.mobileL),v=s.ZP.div.withConfig({displayName:"ConfirmUser__ConfirmUserContainer",componentId:"sc-mtwu0z-1"})(["width:793px;margin-bottom:60px;@media ","{width:100%;padding:0 24px;margin-bottom:24px;}"],f.Uh.mobileL),U=s.ZP.div.withConfig({displayName:"ConfirmUser__ConfirmTitleWrapper",componentId:"sc-mtwu0z-2"})(["display:flex;flex-direction:column;margin-bottom:60px;@media ","{margin-bottom:0px;}"],f.Uh.mobileL),j=s.ZP.div.withConfig({displayName:"ConfirmUser__ConfirmTitleContainer",componentId:"sc-mtwu0z-3"})(["display:flex;text-align:center;@media ","{align-items:center;margin-bottom:24px;}"],f.Uh.mobileL),P=s.ZP.div.withConfig({displayName:"ConfirmUser__ConfirmTitle",componentId:"sc-mtwu0z-4"})(["font-size:28px;line-height:33px;font-weight:",";margin-bottom:12px;@media ","{width:100%;font-size:20px;font-weight:",";}"],(0,f.Ue)("medium"),f.Uh.mobileL,(0,f.Ue)("regular")),O=s.ZP.div.withConfig({displayName:"ConfirmUser__ConfirmSubtitle",componentId:"sc-mtwu0z-5"})(["font-size:16px;font-weight:",";color:#767676;margin-left:164px;@media ","{margin-left:0px;margin-bottom:26px;}"],(0,f.Ue)("regular"),f.Uh.mobileL),E=s.ZP.div.withConfig({displayName:"ConfirmUser__LoginInputGroup",componentId:"sc-mtwu0z-6"})(["display:flex;margin-bottom:16px;@media ","{flex-direction:column;margin-bottom:10px;input{width:100%;font-size:16px;background-color:#F3F3F7;border:none;padding:0 12px;margin-bottom:0px;}input::placeholder{font-size:16px;line-height:28px;font-weight:",";color:#999999}p{margin-top:4px;padding-left:12px;}}"],f.Uh.mobileL,(0,f.Ue)("regular")),I=s.ZP.label.withConfig({displayName:"ConfirmUser__LoginLabel",componentId:"sc-mtwu0z-7"})(["display:flex;align-items:center;width:fit-content;width:211px;padding-left:70px;@media ","{padding-left:0px;margin-bottom:4px;}"],f.Uh.mobileL),N=(0,s.ZP)(f.II).withConfig({displayName:"ConfirmUser__LoginInput",componentId:"sc-mtwu0z-8"})(["width:364px;height:56px;"]),z=s.ZP.div.withConfig({displayName:"ConfirmUser__BackwardImageContainer",componentId:"sc-mtwu0z-9"})(["margin-right:312px;img{cursor:pointer;}@media ","{margin-right:0px;img{width:28px;height:28px;}}"],f.Uh.mobileL),L=s.ZP.button.withConfig({displayName:"ConfirmUser__ConfirmUserButton",componentId:"sc-mtwu0z-10"})(["width:364px;height:56px;background-color:#DC5F00;border-radius:12px;color:#fefefe;font-size:16px;font-weight:",";outline:none;cursor:pointer;border:none;"],(0,f.Ue)("bold")),Z=function(){var e,n,t=(0,c.useState)({}),o=t[0],s=t[1],u=(0,c.useState)(),p=u[0],f=u[1],g=(e=(0,i.Z)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.Y)({method:"GET",withCredentials:!0,url:"".concat(b.env.NEXT_PUBLIC_API_SERVER,"/user/info")});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)}),_=(n=(0,i.Z)(a().mark(function e(n){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.Y)({method:"POST",data:n,withCredentials:!0,url:"".concat(b.env.NEXT_PUBLIC_API_SERVER,"/login")});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)});(0,l.useQuery)("getUserInfo",g,{refetchOnWindowFocus:!1,refetchOnmount:!1,refetchOnReconnect:!1,retry:!1,onSuccess:function(e){console.log("res",e),s({userEmail:e.data.data.UserEmail,userNo:e.data.data.UserNo})},onError:function(e){console.error("Error Occured : ",e)}});var Z=(0,l.useQuery)(["requestLogin",o],function(){return _(o)},{enabled:!1,onSuccess:function(e){if(200===e.status){var n=e.data;"not found"===n.status?alert("회원정보가 없습니다."):"fail"===n.status&&"Wrong password"===n.error?alert("비밀번호가 일치하지 않습니다."):m().push("/mypage/user/".concat(o.userNo))}else console.error(e)},onError:function(e){alert("로그인에 실패했습니다."),console.error("Error Occured : ",e)}}).refetch,k=function(e){var n=e.target.value;return/^([a-z0-9\+_\-]+)(\.[a-z0-9\+_\-]+)*@([a-z0-9\-]+\.)+[a-z]{2,6}$/i.test(n)?f(!0):f(!1),{value:n,validation:!1}},S=function(e){s(C(C({},o),{},(0,r.Z)({},e.target.id,e.target.value)))};return(0,c.useEffect)(function(){console.log("loginInfo",o)},[o]),(0,w.jsxs)(y,{children:[(0,w.jsxs)(v,{children:[(0,w.jsxs)(U,{children:[(0,w.jsxs)(j,{children:[(0,w.jsx)(z,{children:(0,w.jsx)(d(),{src:"".concat(x().assetPrefix,"/img/mypage/backward_icon.png"),width:34,height:34,alt:"뒤로가기 아이콘",onClick:function(){m().push("/mypage")}})}),(0,w.jsx)(P,{children:"회원관리"})]}),(0,w.jsx)(O,{children:"회원님의 정보를 안전하게 보호하기 위해 비밀번호를 다시 한번 확인해주세요"})]}),(0,w.jsxs)(E,{children:[(0,w.jsx)(I,{htmlFor:"email",children:"아이디"}),(0,w.jsx)(N,{id:"userEmail",type:"email",name:"email",placeholder:"이메일을 입력하세요",value:o.userEmail||"",onBlur:function(e){return k(e)},onChange:S}),!1===p&&(0,w.jsx)(NoticeInfo,{children:"이메일을 정확히 입력해주세요"})]}),(0,w.jsxs)(E,{children:[(0,w.jsx)(I,{htmlFor:"email",children:"비밀번호"}),(0,w.jsx)(N,{id:"userPassword",type:"password",name:"password",placeholder:"비밀번호를 입력하세요",onChange:S})]})]}),(0,w.jsx)(L,{type:"button",onClick:function(){var e,n;if(0===Object.keys(o).length)return alert("로그인정보를 입력해주세요."),!1;o.userEmail&&(null===(e=o.userEmail)||void 0===e?void 0:e.length)!==0?o.userPassword&&(null===(n=o.userPassword)||void 0===n?void 0:n.length)!==0?Z():alert("비밀번호를 입력해주세요."):alert("아이디를 입력해주세요.")},children:"확인"})]})},k=(0,s.ZP)(f.W2).withConfig({displayName:"user__UserManagementWrapper",componentId:"sc-qcdjvb-0"})([""]),S=function(){return(0,w.jsx)(k,{children:(0,w.jsx)(Z,{})})}},5842:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mypage/user",function(){return t(9691)}])}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5842)}),_N_E=e.O()}]);