(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[164],{6763:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mypage/order/[orderNo]",function(){return t(1615)}])},3986:function(n,e,t){"use strict";t.d(e,{M:function(){return a}});var i=t(7297),o=t(9971),r=t(9521);function u(){let n=(0,i.Z)(["\n    font-size: 24px;\n    font-weight:bold;\n    margin-bottom: 24px;\n"]);return u=function(){return n},n}function l(){let n=(0,i.Z)(["\n    border: none;\n    outline: none;\n    width: 100%;\n    height: 56px;\n    color:#fefefe;\n    background-color: #DC5F00;\n    border: 1px solid  #DBDBDB;\n    border-radius: 5px;\n    box-shadow: 5px 5px 10px rgba(0,0,0,0.1);\n    font-size: 18px;\n    font-weight: ",";\n    cursor: pointer;\n    @media "," {\n        height: 48px;\n        font-size: 16px;\n        font-weight: ",";\n\n    }\n"]);return l=function(){return n},n}r.ZP.div(u());let a=r.ZP.button(l(),(0,o.Ue)("bold"),o.Uh.mobileL,(0,o.Ue)("semiBold"))},2836:function(n,e,t){"use strict";t.d(e,{Dx:function(){return m},L$:function(){return g},Q0:function(){return x},X$:function(){return w},XE:function(){return y},hE:function(){return b}});var i=t(7297),o=t(8264),r=t(9521),u=t(9971);function l(){let n=(0,i.Z)(["\n    font-size: 24px;\n    font-weight:",";\n    line-height: 28px;\n    margin-bottom: 4px;\n    @media "," {\n      font-size :20px;\n      line-height: 28px;\n      margin-bottom: 5px;\n      padding:0;\n    }\n"]);return l=function(){return n},n}function a(){let n=(0,i.Z)(["\n    font-size: 14px;\n    font-weight:",";\n    opacity: .5;\n    @media "," {\n      font-size :12px;\n      line-height: 14px;\n      font-weight: ",";\n      margin-bottom: 10px !important;\n    }\n"]);return a=function(){return n},n}function c(){let n=(0,i.Z)(["\n  margin-bottom: 20px;\n  @media "," {\n    margin-bottom: 30px;\n    }\n"]);return c=function(){return n},n}function d(){let n=(0,i.Z)(["\n  display: flex;\n  width: 100%;\n  margin-top: 20px;\n"]);return d=function(){return n},n}function s(){let n=(0,i.Z)(["\n        color:#fefefe;\n        background-color: #DC5F00;\n        font-weight: ",";\n     "]);return s=function(){return n},n}function f(){let n=(0,i.Z)(["\n        color:#a9a9a8;\n        background-color: #fefefe;\n        border: 1px solid #A9A9A8;\n     "]);return f=function(){return n},n}function p(){let n=(0,i.Z)(["\n    width: 50%;\n    height: 56px;\n    font-size: 16px;\n    line-height: 27px;\n    font-weight: ",";\n    border-top-left-radius: 5px;\n    border-bottom-left-radius: 5px;\n    border:none;\n    cursor: pointer;\n    transition: all .4s ease;\n\n    ","\n"]);return p=function(){return n},n}function h(){let n=(0,i.Z)(["\n    border-radius: 0;\n    height: 56px;\n    border-top-right-radius: 5px;\n    border-bottom-right-radius: 5px;\n"]);return h=function(){return n},n}let m=r.ZP.div(l(),(0,o.U)("medium"),u.Uh.mobileL),x=r.ZP.div(a(),(0,o.U)("regular"),u.Uh.mobileL,(0,o.U)("regular")),g=r.ZP.div(c(),u.Uh.mobileL),b=r.ZP.div(d()),w=r.ZP.button(p(),(0,o.U)("regular"),n=>!0==n.active?(0,r.iv)(s(),(0,o.U)("bold")):(0,r.iv)(f())),y=(0,r.ZP)(w)(h())},1615:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return nU}});var i=t(7297),o=t(5893),r=t(9521),u=t(5540),l=t(8767),a=t(4480),c=t(9971),d=t(7294),s=t(5838),f=t(5518),p=t(5004),h=t(4410),m=t(1819),x=t(5216),g=t(5675),b=t.n(g),w=t(7505),y=t(1292),v=t(1338);t(6798);var P=t(8264),Z=t(2836),j=t(2490);function D(){let n=(0,i.Z)(["\n"]);return D=function(){return n},n}function U(){let n=(0,i.Z)(["\n  width: 100%;\n  background-color: #fefefe;\n  border: 1px solid #DC5F00;  \n  padding: 12px 40px  52px;\n  border-radius: 10px;\n  margin-top: 20px;\n  @media "," {\n    width: 100%;\n    padding:20px;\n    margin-top: 30px;\n  }\n"]);return U=function(){return n},n}function A(){let n=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  @media "," {\n    padding:20px 0 ;\n  }\n"]);return A=function(){return n},n}function S(){let n=(0,i.Z)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n    padding: 30px 0 ;\n    border-bottom: 0.5px solid #A9A9A8;\n    @media "," {\n    padding:20px 0 ;\n    :nth-of-type(1){\n      padding-top: 0%;\n    }\n  }\n"]);return S=function(){return n},n}function z(){let n=(0,i.Z)(["\n  flex-direction: column;\n"]);return z=function(){return n},n}function k(){let n=(0,i.Z)(["\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n    @media "," {\n    margin-bottom: 8px;\n  }\n"]);return k=function(){return n},n}function E(){let n=(0,i.Z)(["\n    font-size: 18px;\n    line-height: 39px;\n    font-weight: ",";\n  @media "," {\n    font-size: 12px;\n    line-height: 16px;\n    font-weight: ",";\n  }\n"]);return E=function(){return n},n}function I(){let n=(0,i.Z)(["\n    font-size: 18px;\n    line-height: 39px;\n    font-weight: ",";\n    span{\n      font-weight: ",";\n    }\n\n    @media "," {\n    font-size: 12px;\n    line-height: 14px;\n    font-weight: ",";\n    span{\n      font-weight: ",";\n    }\n  }\n"]);return I=function(){return n},n}function C(){let n=(0,i.Z)(["\n    width: 80%;\n    font-size: 24px;\n    line-height: 39px;\n    font-weight: ",";\n    span{\n      font-weight: ",";\n    }\n\n    @media "," {\n\n      font-size: 14px;\n      line-height: 15px;\n      font-weight: ",";\n      span{\n        font-weight: ",";\n      }\n  }\n"]);return C=function(){return n},n}function L(){let n=(0,i.Z)(["\n   display: flex;\n   justify-content: flex-end;\n   align-items: center;\n   text-align: right;\n   margin-bottom: 8px;\n    font-size: 18px;\n  p{\n    font-size: 18px;\n    line-height: 24px;\n    font-weight: ",";\n    width:20%;\n  }\n  span{\n    font-size: 18px;\n    line-height: 24px;\n    font-weight: ",";\n    margin-left: 32px;\n    width:10%;\n  }\n\n  @media "," {\n    p{\n      font-size: 12px;\n      line-height: 15px;\n      font-weight: ",";\n      margin-left: 3px;\n      flex-basis:15%;\n    }\n    span{\n      font-size: 12px;\n      line-height: 15px;\n      font-weight: ",";\n      margin-left: 3px;\n      flex-basis:13%;\n    }\n  }\n"]);return L=function(){return n},n}function N(){let n=(0,i.Z)(["\n   display: flex;\n   justify-content: flex-end;\n   align-items: center;\n   text-align: right;\n   margin-bottom: 10px;\n  p{\n    font-size: 18px;\n    line-height: 35px;\n    font-weight: ",";\n    margin-left: 32px;\n  }\n  span{\n    font-size: 18px;\n    line-height: 35px;\n    font-weight: ",";\n    margin-left: 32px;\n  }\n  @media "," {\n    margin-left: auto;\n    p{\n      font-size: 12px;\n      line-height: 13px;\n      font-weight: ",";\n      margin-left: 32px;\n    }\n    span{\n      font-size: 12px;\n      line-height: 13px;\n      font-weight: ",";\n      margin-left: 32px;\n    }\n\n  }\n"]);return N=function(){return n},n}function F(){let n=(0,i.Z)(["\n  min-width: 271px;\n  width: 65%;\n  font-weight: ",";\n  @media "," {\n    font-size: 12px;\n    min-width: auto;\n    flex-basis:80%;\n\n  }\n"]);return F=function(){return n},n}function _(){let n=(0,i.Z)(["\n    font-weight: ",";\n"]);return _=function(){return n},n}function O(){let n=(0,i.Z)(["\n  display: flex;\n  justify-content: flex-end;\n  width: 100%;\n  text-align: right;\n  font-size:20px;\n  line-height: 33px;\n  font-weight: ",";\n  margin-top: 30px;\n  color:#DC5F00;\n  & span{\n      font-size:18px;\n      line-height: 33px;\n      font-weight: ",";\n      margin-right: 22px;\n      color:#DC5F00;\n\n  }\n  & h2{\n    font-size: 24px;\n      font-weight: ",";\n      color:#DC5F00;\n  }\n\n  @media "," {\n    text-align: right;\n    font-size:12px;\n    line-height: 12px;\n    font-weight: ",";\n    margin-top: 15px;\n    color:#DC5F00;\n    & span{\n        font-size:12px;\n        line-height: 13px;\n        font-weight: ",";\n        margin-right: 22px;\n        color:#DC5F00;\n\n    }\n    & h2{\n      font-size:16px;\n    }\n\n\n  }\n"]);return O=function(){return n},n}let B=r.ZP.div(D()),R=r.ZP.div(U(),c.Uh.mobileL),T=r.ZP.ul(A(),c.Uh.mobileL),X=r.ZP.li(S(),c.Uh.mobileL),M=(0,r.ZP)(X)(z()),V=r.ZP.div(k(),c.Uh.mobileL),J=r.ZP.p(E(),(0,P.U)("regular"),c.Uh.mobileL,(0,P.U)("regular")),Q=r.ZP.div(I(),(0,P.U)("regular"),(0,P.U)("regular"),c.Uh.mobileL,(0,P.U)("bold"),(0,P.U)("regular")),K=(0,r.ZP)(Q)(C(),(0,P.U)("bold"),(0,P.U)("regular"),c.Uh.mobileL,(0,P.U)("bold"),(0,P.U)("regular")),W=r.ZP.div(L(),(0,P.U)("regular"),(0,P.U)("bold"),c.Uh.mobileL,(0,P.U)("regular"),(0,P.U)("bold")),Y=r.ZP.div(N(),(0,P.U)("regular"),(0,P.U)("semiBold"),c.Uh.mobileL,(0,P.U)("regular"),(0,P.U)("bold")),G=r.ZP.div(F(),(0,P.U)("regular"),c.Uh.mobileL);r.ZP.span(_(),(0,P.U)("regular"));let $=r.ZP.div(O(),(0,P.U)("semiBold"),(0,P.U)("semiBold"),(0,P.U)("bold"),c.Uh.mobileL,(0,P.U)("bold"),(0,P.U)("semiBold"));var q=function(n){var e,t,i,r;let{paymentDetails:u,initialProductInfo:l}=n,[a,c]=(0,d.useState)(0),[s,f]=(0,d.useState)(0),[p,h]=(0,d.useState)(l),m=n=>{let e=[],t=0;return u.product.map(i=>{i.dow===n&&(e.push("".concat(i.name," ").concat(i.amount,"개")),t+=i.amount)}),{product:e=e.join(", "),count:t}},x=n=>{let e=[],t=0;if(p&&p.product)return p.product.map(i=>{i.dow===n&&(e.push("".concat(i.name," ").concat(i.amount,"개")),t+=i.amount)}),{product:e=e.join(", "),count:t}},g=()=>{var n,e;let t=null===(n=u.coupon)||void 0===n?void 0:n.type,i=null===(e=u.coupon)||void 0===e?void 0:e.discount,o=parseInt(u.milesAmount?u.milesAmount:0);return t&&i?"money"===t?o+i:o+parseInt(u.totalPrice)*(parseInt(i)/100):o};return(0,d.useEffect)(()=>{let n=0;u.product.map(e=>{n+=e.amount}),c(n)},[null==u?void 0:u.product]),(0,d.useEffect)(()=>{f(g())},[null==u?void 0:u.milesAmount,null==u?void 0:u.coupon]),(0,o.jsxs)(B,{children:[(0,o.jsx)(Z.Dx,{children:"총 결제정보"}),(0,o.jsxs)(R,{children:[(0,o.jsxs)(T,{children:[(0,o.jsxs)(M,{children:[(0,o.jsxs)(V,{children:[(0,o.jsx)(J,{children:"변경 전 수량"}),(0,o.jsx)(K,{children:u&&u.product&&u.dows&&u.dows.map((n,e)=>(0,o.jsxs)(W,{children:[(0,o.jsx)(G,{children:x(n).product}),(0,o.jsxs)("span",{children:[x(n).count,"개"]})]},"".concat(n).concat(e)))})]}),(0,o.jsxs)(V,{children:[(0,o.jsx)(J,{children:"변경 후 수량"}),(0,o.jsx)(K,{children:u&&u.product&&u.dows&&u.dows.map((n,e)=>(0,o.jsxs)(W,{children:[(0,o.jsx)(G,{children:m(n).product}),(0,o.jsxs)("span",{children:[m(n).count,"개"]})]},"".concat(n).concat(e)))})]}),(0,o.jsxs)($,{children:[(0,o.jsx)("span",{children:"총 상품수량"}),a,"개"]})]}),(0,o.jsxs)(M,{children:[(0,o.jsxs)(V,{children:[(0,o.jsx)(J,{children:"변경 전 금액"}),(0,o.jsx)(Q,{children:(0,o.jsxs)("span",{children:[j.y.numberCommaFormat(p.defaultDiscountPrice?p.defaultDiscountPrice:0),"원"]})})]}),(0,o.jsxs)(V,{children:[(0,o.jsx)(J,{children:"변경 후 금액"}),(0,o.jsx)(Q,{children:(0,o.jsxs)("span",{children:[j.y.numberCommaFormat(u.totalPrice?u.totalPrice:0),"원"]})})]}),(0,o.jsxs)(V,{children:[(0,o.jsx)(J,{children:"할인금액"}),(0,o.jsxs)(K,{children:[null!=u.amountDiscount&&(null===(e=u.amountDiscount)||void 0===e?void 0:e.length)!==0&&0!==u.amountDiscount&&(0,o.jsxs)(Y,{children:[(0,o.jsx)("p",{children:"요일별 2개 이상 할인"}),(0,o.jsxs)("span",{children:["-",j.y.numberCommaFormat(1e3*u.amountDiscount),"원"]})]}),(null===(t=u.coupon)||void 0===t?void 0:t.discount)!=null&&(null===(i=u.coupon)||void 0===i?void 0:i.type)!=null&&(null===(r=u.coupon)||void 0===r?void 0:r.length)!==0&&(0,o.jsxs)(Y,{children:[(0,o.jsx)("p",{children:u.coupon.name}),(0,o.jsxs)("span",{children:["-",j.y.numberCommaFormat(u.coupon.discount),"money"===u.coupon.type?"원":"%"]})]}),null!=u.milesAmount&&0!==parseInt(u.milesAmount)&&parseInt(u.milesAmount)>=0&&(0,o.jsxs)(Y,{children:[(0,o.jsx)("p",{children:" 포인트"}),(0,o.jsxs)("span",{children:["-",j.y.numberCommaFormat(u.milesAmount),"원"]})]})]})]}),(0,o.jsxs)($,{children:[(0,o.jsx)("span",{children:"총 할인금액 "})," -",j.y.numberCommaFormat(s+(u.amountDiscount?parseInt(1e3*u.amountDiscount):0)),"원"]})]})]}),(0,o.jsx)($,{children:u.defaultDiscountPrice-p.defaultDiscountPrice<0?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{children:"환불 포인트"}),(0,o.jsx)("h2",{children:j.y.numberCommaFormat(p.defaultDiscountPrice-u.defaultDiscountPrice-parseInt(s))})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{children:"결제 금액"}),(0,o.jsxs)("h2",{children:[j.y.numberCommaFormat((u.defaultDiscountPrice?parseInt(u.defaultDiscountPrice):0)-p.defaultDiscountPrice-parseInt(s)),"원"]})]})})]})]})},H=t(3986),nn=t(1163),ne=t.n(nn),nt=t(2702),ni=t.n(nt),no=t(3454);function nr(){let n=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin  : 142px 0 170px;\n  @media "," {\n    padding: 80px 0px;\n    margin: 0px 0px 120px;\n  }\n\n"]);return nr=function(){return n},n}function nu(){let n=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 596px;\n  @media "," {\n   width: 100%;\n   padding: 0 24px;\n  }\n  \n"]);return nu=function(){return n},n}function nl(){let n=(0,i.Z)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  width  : 800px;\n  @media "," {\n   width: 100%;\n   padding: 0 24px;\n  }\n"]);return nl=function(){return n},n}function na(){let n=(0,i.Z)(["\n  font-size: 28px;\n  line-height: 56px;\n  font-weight: ",";\n  @media "," {\n    font-size: 20px;\n    font-weight: ",";\n  }\n"]);return na=function(){return n},n}function nc(){let n=(0,i.Z)(["\n  margin-right: 290px;\n  cursor: pointer;\n  @media "," {\n    width: 28px;\n    height: 28px;\n    margin-right: 81px;\n  }\n"]);return nc=function(){return n},n}function nd(){let n=(0,i.Z)(["\n  margin-bottom: 8px;\n    @media "," {\n      margin-bottom: 0px;\n  }\n"]);return nd=function(){return n},n}function ns(){let n=(0,i.Z)(["\n  width: 800px;\n  height: 159px;\n  font-size:18px;\n  line-height: 26px;\n  font-weight: ",";\n  background-color: #F1F1F5;\n  border-radius: 5px;\n  padding:30px;\n  margin: 67px  auto 50px;\n  span{\n    font-weight: ",";\n  }\n  @media "," {\n    width: 100%;\n    height: 100%;\n    font-size:12px;\n    line-height: 20px;\n    margin: 18px  auto 40px;\n    padding:20px 24px;\n  }\n"]);return ns=function(){return n},n}function nf(){let n=(0,i.Z)(["\n  margin-bottom: 30px;\n"]);return nf=function(){return n},n}function np(){let n=(0,i.Z)(["\n  width: 100%;\n  margin-top: 40px;\n"]);return np=function(){return n},n}let nh=r.ZP.div(nr(),c.Uh.mobileL),nm=r.ZP.div(nu(),c.Uh.mobileL),nx=r.ZP.div(nl(),c.Uh.mobileL),ng=r.ZP.div(na(),(0,c.Ue)("medium"),c.Uh.mobileL,(0,c.Ue)("regular")),nb=(0,r.ZP)(b())(nc(),c.Uh.mobileL),nw=r.ZP.div(nd(),c.Uh.mobileL),ny=r.ZP.div(ns(),(0,c.Ue)("regular"),(0,c.Ue)("semiBold"),c.Uh.mobileL),nv=r.ZP.div(nf()),nP=r.ZP.div(np());var nZ=function(n){let{orderNo:e}=n,t=(0,a.Zl)((0,u.Vy)(e)),i=(0,a.sJ)((0,u.Vy)(e)),r=(0,a.sJ)((0,h.cI)(e));(0,a.sJ)((0,p.R9)(e));let g=(0,a.sJ)((0,x._)(e)),b=(0,a.Zl)((0,x._)(e)),P=(0,a.Zl)((0,p.R9)(e)),[Z,j]=(0,d.useState)(null),D=(0,a.Zl)((0,m.yM)(e)),[U,A]=(0,d.useState)(null),[S,z]=(0,d.useState)({}),k=n=>{let e=0,t=0,i=0,o=0;for(let r=0;r<n.length;r++){let u=n[r];o+=u.amount,i+=parseInt(u.price)*u.amount}return o>=2&&t++,{totalPrice:e+=i,defaultDiscountPrice:e-1e3*t,amountDiscount:t}},E=async()=>await (0,s.Y)({method:"GET",withCredentials:!0,params:{orderNo:e},url:"".concat(no.env.NEXT_PUBLIC_API_SERVER,"/order/initialproductinfo")});(0,l.useQuery)("getInitialProductInfo",E,{enabled:null!=i.dows,refetchOnWindowFocus:!1,refetchOnmount:!1,refetchOnReconnect:!1,retry:!1,onSuccess:n=>{200===n.status&&n.data.data&&j(e=>{let{totalPrice:t,defaultDiscountPrice:i,amountDiscount:o}=k(n.data.data);return{...e,product:n.data.data,totalPrice:t,defaultDiscountPrice:i,amountDiscount:o}})},onError:n=>{console.error("Error Occured : ",n)}});let I=async()=>await (0,s.Y)({method:"GET",withCredentials:!0,params:{orderNo:e},url:"".concat(no.env.NEXT_PUBLIC_API_SERVER,"/order/infowithorderno")});(0,l.useQuery)("getOrderInfo",I,{enabled:null!=e,refetchOnWindowFocus:!1,refetchOnmount:!1,refetchOnReconnect:!1,retry:!1,onSuccess:n=>{let e=n.data.data[0];200===n.status&&(z(n.data.data[0]),t(t=>({...t,deliveryDate:new Date(e.deliveryDate),dows:[e.deliveryDow],addressNo:n.data.subscribeInfo.AddressNo,paymentNo:n.data.subscribeInfo.PaymentNo})),D(e=>({...e,addressNo:n.data.subscribeInfo.AddressNo})),P(e=>({...e,paymentNo:n.data.subscribeInfo.PaymentNo,addPayment:!1})))},onError:n=>{console.error("Error Occured : ",n)}});let C=async()=>{let n={...i};return n.beforeTotalPrice=Z.defaultDiscountPrice,n.beforeOrderNo=e,await (0,s.Y)({method:"POST",withCredentials:!0,data:{orderInfo:n},url:"".concat(no.env.NEXT_PUBLIC_API_SERVER,"/order/amountchange2")})},{refetch:L}=(0,l.useQuery)("sumitAmoutChange".concat(e),C,{enabled:!1,refetchOnWindowFocus:!1,refetchOnmount:!1,refetchOnReconnect:!1,retry:!1,onSuccess:n=>{alert("수량 변경이 정상적으로 완료되었습니다."),ne().replace("/mypage",void 0,{shallow:!1})},onError:n=>{console.error("Error Occured : ",n)}});(0,d.useEffect)(()=>{A(f.tq)},[]),(0,d.useEffect)(()=>{if((null==i?void 0:i.defaultDiscountPrice)&&(null==Z?void 0:Z.defaultDiscountPrice)&&(i.defaultDiscountPrice-Z.defaultDiscountPrice<=0?(b(n=>({...n,milesAmount:0})),t(n=>({...n,milesAmount:0}))):t(n=>({...n,coupon:g.coupon,milesAmount:g.milesAmount}))),t(n=>({...n,product:r.list})),null==Z?void 0:Z.product){let n=function(n,e){let t=[];n.forEach(n=>{let i=e.find(e=>e.name===n.name);i||t.push({...n,amount:-n.amount})}),e.forEach(e=>{let i=n.find(n=>n.name===e.name);if(i){let o=e.amount-i.amount;0!==o&&t.push({...e,amount:o})}else t.push(e)});let i=t.reduce((n,e)=>{let t=e.name,i=n[t]||{name:t,inc:[],dec:[]};return e.amount>0?i.inc.push(e):i.dec.push({...e,amount:-e.amount}),n[t]=i,n},{}),o=Object.values(i).filter(n=>n.inc.length>0||n.dec.length>0);return o.map(n=>({name:n.name,inc:n.inc,dec:n.dec}))}(Z.product,r.list);t(e=>({...e,diff:n}))}},[r.list]),(0,d.useEffect)(()=>{if(0!==r.list.length){let{totalPrice:n,defaultDiscountPrice:e,amountDiscount:i}=k(r.list);t(t=>({...t,product:r.list,totalPrice:n,defaultDiscountPrice:e,amountDiscount:i}))}},[r.list]),(0,d.useEffect)(()=>{(null==i?void 0:i.defaultDiscountPrice)&&(null==Z?void 0:Z.defaultDiscountPrice)&&(i.defaultDiscountPrice-Z.defaultDiscountPrice>0&&i.defaultDiscountPrice-Z.defaultDiscountPrice<parseInt(g.milesAmount)?(b(n=>({...n,milesAmount:i.defaultDiscountPrice-Z.defaultDiscountPrice})),t(n=>({...n,coupon:g.coupon,milesAmount:i.defaultDiscountPrice-Z.defaultDiscountPrice}))):t(n=>({...n,coupon:g.coupon,milesAmount:g.milesAmount})))},[g.coupon,g.milesAmount]);let N=()=>0===i.product.length?(alert("수량은 선택해주세요."),!1):!0===F()?(alert("수량이 변경되지 않았습니다."),!1):void(t(n=>({...n,beforeTotalPrice:Z.defaultDiscountPrice,beforeOrderNo:e})),L()),F=()=>{if(i&&Z){let n=i.product,e=Z.product,t=!1;if(n.length!==e.length)return t;for(let o=0;o<n.length;o++){let r=n[o];for(let u=0;u<e.length;u++){let l=e[u];if(r.key===l.key){if(r.amount!==l.amount)return!1;t=!0}}}return t}};return(0,d.useEffect)(()=>{console.log("amountChangeStateInfo",i)},[i]),(0,o.jsx)(nh,{children:e&&S&&S.deliveryDate&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(nx,{children:[(0,o.jsx)(nb,{src:"".concat(ni().assetPrefix,"/img/mypage/backward_icon.png"),width:34,height:34,alt:"뒤로가기 아이콘",onClick:()=>{ne().push("/mypage")}}),(0,o.jsx)(ng,{children:"하루 수량 변경"})]}),(0,o.jsxs)(ny,{children:[U?(0,o.jsx)("p",{children:"- 수량 변경이 완료된 이후에는 주문 취소가 불가해요."}):(0,o.jsxs)("p",{children:["- 수량 변경이 완료된 이후에는 ",(0,o.jsx)("span",{children:"주문 취소가 불가"}),"하오니 신중하게 선택해주세요."]}),(0,o.jsx)("p",{children:"- 수량 변경으로 인한 주문취소는 포인트로만 적립돼요."}),(0,o.jsxs)("p",{children:["- 하루 전체 주문 취소는 불가하며 ",(0,o.jsx)("span",{children:"하루 쉬어가기"}),"만 가능해요."]}),(0,o.jsx)("p",{children:"- 포인트는 추가주문 및 정기구독 결제시에만 사용 가능해요."})]}),(0,o.jsxs)(nm,{children:[(0,o.jsxs)(nw,{children:[new Date(S.deliveryDate).getDate(),"일(",S.deliveryDow,"요일)"]}),(null==Z?void 0:Z.product)&&(0,o.jsx)(y.Z,{selectedDowList:[S.deliveryDow],initialProductInfo:null==Z?void 0:Z.product,stateKey:e,title:!1,closeBtn:!1}),(0,o.jsx)(w.Z,{stateKey:"".concat(e),redirectUrl:"/order/".concat(e),failRedirectUrl:"/order/".concat(e)}),(null==i?void 0:i.defaultDiscountPrice)-(null==Z?void 0:Z.defaultDiscountPrice)<=0==!1&&(0,o.jsxs)(nv,{children:[(0,o.jsx)(c.Dx,{children:"할인적용"}),(0,o.jsx)(v.Z,{stateKey:e})]}),Z&&i&&(0,o.jsx)(q,{initialProductInfo:Z,paymentDetails:i}),(0,o.jsx)(nP,{children:(0,o.jsx)(H.M,{onClick:N,children:"하루수량 변경하기"})})]})]})})};function nj(){let n=(0,i.Z)(["\n\n"]);return nj=function(){return n},n}let nD=r.ZP.div(nj());var nU=function(){return(0,o.jsx)(nD,{children:(0,o.jsx)(nZ,{orderNo:0})})}},1819:function(n,e,t){"use strict";t.d(e,{T0:function(){return u},yM:function(){return r}});var i=t(4480),o=t(5007);let r=(0,i.xu)({key:"addressState/".concat((0,o.Z)()),default:n=>({id:n,addressList:[],addressNo:null,addModal:!1,addressAvailable:null})}),u=(0,i.xu)({key:"addressInputState/".concat((0,o.Z)()),default:n=>({id:n,address:{value:"",validation:""},addressLabel:{value:"",validation:""},rcvName:{value:"",validation:""},address:{value:"",validation:""},apartmentBuilding:{value:"",validation:""},apartmentUnit:{value:"",validation:""},contactNo:{value:"",validation:""},enterancePassword:{value:"",validation:!0}})});(0,i.cn)({key:"newAddressState/".concat((0,o.Z)()),default:{addressLabel:null,RcvName:!1,Address:!1,ApartmentName:!1,ApartmentBuilding:!1,ApartmentUnit:!1,ContactNo:!1}})},5540:function(n,e,t){"use strict";t.d(e,{H9:function(){return l},Pm:function(){return r},Pn:function(){return c},Vy:function(){return a},ne:function(){return u}});var i=t(4480),o=t(5007);(0,i.cn)({key:"mypageUserState/".concat((0,o.Z)()),default:{}});let r=(0,i.cn)({key:"pauseModalState/".concat((0,o.Z)()),default:{modalActive:!1,pause:!0,pauseDeliveryDate:null}}),u=(0,i.xu)({key:"mypageSubscribeCalendar/".concat((0,o.Z)()),default:n=>({id:n,selectedDate:new Date,orderInfo:[],menuList:[]})});(0,i.cn)({key:"mypageUserPasswordState/".concat((0,o.Z)()),default:{isModifying:!1,currentPassword:null,userPassword:null,duplicated:!1,validation:null}}),(0,i.cn)({key:"mypageSubscribeInfoState/".concat((0,o.Z)()),default:[]});let l=(0,i.cn)({key:"mypageSubscribeListState/".concat((0,o.Z)()),default:[]}),a=(0,i.xu)({key:"amountChangeState/".concat((0,o.Z)()),default:n=>({id:n,product:[],period:4,deliveryDate:null,dows:[],addressNo:null,paymentNo:null,totalPrice:null,milesAmount:0,coupon:{}})});(0,i.cn)({key:"amountChangeProductState/".concat((0,o.Z)()),default:[]});let c=(0,i.xu)({key:"mypageAddressState/".concat((0,o.Z)()),default:n=>({id:n,modify:!1})})},4410:function(n,e,t){"use strict";t.d(e,{By:function(){return c},FX:function(){return a},TD:function(){return l},bw:function(){return r},cI:function(){return u},ri:function(){return d}});var i=t(4480),o=t(5007);let r=(0,i.cn)({key:"subscribeState/".concat((0,o.Z)()),default:{product:[],period:4,deliveryDate:null,dows:[],addressNo:null,paymentNo:null,totalPrice:null,milesAmount:0,coupon:{}}});(0,i.cn)({key:"subscribeRouterState/".concat((0,o.Z)()),default:!0});let u=(0,i.xu)({key:"productState/".concat((0,o.Z)()),default:n=>({id:n,list:[]})}),l=(0,i.xu)({key:"deliveryDowState/".concat((0,o.Z)()),default:n=>({id:n,list:[]})}),a=(0,i.xu)({key:"deliveryDateState/".concat((0,o.Z)()),default:n=>({id:n,list:[]})}),c=(0,i.xu)({key:"refundState/".concat((0,o.Z)()),default:n=>({id:n,list:{}})}),d=(0,i.xu)({key:"cancelRefundState/".concat((0,o.Z)()),default:n=>({id:n,list:{}})})}},function(n){n.O(0,[798,979,140,774,888,179],function(){return n(n.s=6763)}),_N_E=n.O()}]);