(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[164],{3864:function(n,e,t){"use strict";t.d(e,{M:function(){return r}});var o=t(3735),i=t(9521);i.ZP.div.withConfig({displayName:"CommonComponent__MenuTitle",componentId:"sc-vcuagn-0"})(["font-size:24px;font-weight:bold;margin-bottom:24px;"]);var r=i.ZP.button.withConfig({displayName:"CommonComponent__MypageButton",componentId:"sc-vcuagn-1"})(["border:none;outline:none;width:100%;height:56px;color:#fefefe;background-color:#DC5F00;border:1px solid  #DBDBDB;border-radius:5px;box-shadow:5px 5px 10px rgba(0,0,0,0.1);font-size:18px;font-weight:",";cursor:pointer;@media ","{height:48px;font-size:16px;font-weight:",";}"],(0,o.Ue)("bold"),o.Uh.mobileL,(0,o.Ue)("semiBold"))},1491:function(n,e,t){"use strict";t.d(e,{Dx:function(){return a},L$:function(){return u},Q0:function(){return c},X$:function(){return s},XE:function(){return l},hE:function(){return d}});var o=t(1569),i=t(9521),r=t(3735),a=i.ZP.div.withConfig({displayName:"CommonComponent__Title",componentId:"sc-gpa6bd-0"})(["font-size:24px;font-weight:",";line-height:28px;margin-bottom:4px;@media ","{font-size :20px;line-height:28px;margin-bottom:5px;padding:0;}"],(0,o.U)("medium"),r.Uh.mobileL),c=i.ZP.div.withConfig({displayName:"CommonComponent__SubsTitle",componentId:"sc-gpa6bd-1"})(["font-size:14px;font-weight:",";opacity:.5;@media ","{font-size :12px;line-height:14px;font-weight:",";margin-bottom:10px !important;}"],(0,o.U)("regular"),r.Uh.mobileL,(0,o.U)("regular")),u=i.ZP.div.withConfig({displayName:"CommonComponent__TitleGroup",componentId:"sc-gpa6bd-2"})(["margin-bottom:20px;@media ","{margin-bottom:30px;}"],r.Uh.mobileL),d=i.ZP.div.withConfig({displayName:"CommonComponent__ButtonGroup",componentId:"sc-gpa6bd-3"})(["display:flex;width:100%;margin-top:20px;"]),s=i.ZP.button.withConfig({displayName:"CommonComponent__GroupButton01",componentId:"sc-gpa6bd-4"})(["width:50%;height:56px;font-size:16px;line-height:27px;font-weight:",";border-top-left-radius:5px;border-bottom-left-radius:5px;border:none;cursor:pointer;transition:all .4s ease;",""],(0,o.U)("regular"),function(n){return!0==n.active?(0,i.iv)(["color:#fefefe;background-color:#DC5F00;font-weight:",";"],(0,o.U)("bold")):(0,i.iv)(["color:#a9a9a8;background-color:#fefefe;border:1px solid #A9A9A8;"])}),l=(0,i.ZP)(s).withConfig({displayName:"CommonComponent__GroupButton02",componentId:"sc-gpa6bd-5"})(["border-radius:0;height:56px;border-top-right-radius:5px;border-bottom-right-radius:5px;"])},9345:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return nc}});var o=t(9521),i=t(9499),r=t(29),a=t(7794),c=t.n(a),u=t(1746),d=t(8767),s=t(4480),l=t(3735),p=t(7294),f=t(1896),m=t(5518),h=t(129),x=t(4093),g=t(8254),y=t(7044),b=t(5675),w=t.n(b),v=t(3289),P=t(1748),C=t(285);t(5885);var j=t(1569),I=t(1491),_=t(35),D=t(5893),Z=o.ZP.div.withConfig({displayName:"OrderPaymentInfo__PaymentInfoWrapper",componentId:"sc-zkrqfl-0"})([""]),N=o.ZP.div.withConfig({displayName:"OrderPaymentInfo__PaymentInfoContainer",componentId:"sc-zkrqfl-1"})(["width:100%;background-color:#fefefe;border:1px solid #DC5F00;padding:12px 40px  52px;border-radius:10px;margin-top:20px;@media ","{width:100%;padding:20px;margin-top:30px;}"],l.Uh.mobileL),U=o.ZP.ul.withConfig({displayName:"OrderPaymentInfo__PaymentInfoList",componentId:"sc-zkrqfl-2"})(["display:flex;flex-direction:column;align-items:center;@media ","{padding:20px 0;}"],l.Uh.mobileL),A=o.ZP.li.withConfig({displayName:"OrderPaymentInfo__PaymentInfoGroupContainer",componentId:"sc-zkrqfl-3"})(["display:flex;justify-content:space-between;align-items:center;width:100%;padding:30px 0;border-bottom:0.5px solid #A9A9A8;@media ","{padding:20px 0;:nth-of-type(1){padding-top:0%;}}"],l.Uh.mobileL),k=(0,o.ZP)(A).withConfig({displayName:"OrderPaymentInfo__ProductInfoGroupContainer",componentId:"sc-zkrqfl-4"})(["flex-direction:column;"]),O=o.ZP.div.withConfig({displayName:"OrderPaymentInfo__PaymentInfoGroup",componentId:"sc-zkrqfl-5"})(["display:flex;justify-content:space-between;width:100%;@media ","{margin-bottom:8px;}"],l.Uh.mobileL),z=o.ZP.p.withConfig({displayName:"OrderPaymentInfo__PaymentInfoLabel",componentId:"sc-zkrqfl-6"})(["font-size:18px;line-height:39px;font-weight:",";@media ","{font-size:12px;line-height:16px;font-weight:",";}"],(0,j.U)("regular"),l.Uh.mobileL,(0,j.U)("regular")),S=o.ZP.div.withConfig({displayName:"OrderPaymentInfo__PaymentInfoDetails",componentId:"sc-zkrqfl-7"})(["font-size:18px;line-height:39px;font-weight:",";span{font-weight:",";}@media ","{font-size:12px;line-height:14px;font-weight:",";span{font-weight:",";}}"],(0,j.U)("regular"),(0,j.U)("regular"),l.Uh.mobileL,(0,j.U)("bold"),(0,j.U)("regular")),L=(0,o.ZP)(S).withConfig({displayName:"OrderPaymentInfo__ProductInfoDetails",componentId:"sc-zkrqfl-8"})(["width:80%;font-size:24px;line-height:39px;font-weight:",";span{font-weight:",";}@media ","{font-size:14px;line-height:15px;font-weight:",";span{font-weight:",";}}"],(0,j.U)("bold"),(0,j.U)("regular"),l.Uh.mobileL,(0,j.U)("bold"),(0,j.U)("regular")),E=o.ZP.div.withConfig({displayName:"OrderPaymentInfo__ProductInfo",componentId:"sc-zkrqfl-9"})(["display:flex;justify-content:flex-end;align-items:center;text-align:right;margin-bottom:8px;font-size:18px;p{font-size:18px;line-height:24px;font-weight:",";width:20%;}span{font-size:18px;line-height:24px;font-weight:",";margin-left:32px;width:10%;}@media ","{p{font-size:12px;line-height:15px;font-weight:",";margin-left:3px;flex-basis:15%;}span{font-size:12px;line-height:15px;font-weight:",";margin-left:3px;flex-basis:13%;}}"],(0,j.U)("regular"),(0,j.U)("bold"),l.Uh.mobileL,(0,j.U)("regular"),(0,j.U)("bold")),F=o.ZP.div.withConfig({displayName:"OrderPaymentInfo__CouponInfo",componentId:"sc-zkrqfl-10"})(["display:flex;justify-content:flex-end;align-items:center;text-align:right;margin-bottom:10px;p{font-size:18px;line-height:35px;font-weight:",";margin-left:32px;}span{font-size:18px;line-height:35px;font-weight:",";margin-left:32px;}@media ","{margin-left:auto;p{font-size:12px;line-height:13px;font-weight:",";margin-left:32px;}span{font-size:12px;line-height:13px;font-weight:",";margin-left:32px;}}"],(0,j.U)("regular"),(0,j.U)("semiBold"),l.Uh.mobileL,(0,j.U)("regular"),(0,j.U)("bold")),B=o.ZP.div.withConfig({displayName:"OrderPaymentInfo__Products",componentId:"sc-zkrqfl-11"})(["min-width:271px;width:65%;font-weight:",";@media ","{font-size:12px;min-width:auto;flex-basis:80%;}"],(0,j.U)("regular"),l.Uh.mobileL);o.ZP.span.withConfig({displayName:"OrderPaymentInfo__ProductCount",componentId:"sc-zkrqfl-12"})(["font-weight:",";"],(0,j.U)("regular"));var T=o.ZP.div.withConfig({displayName:"OrderPaymentInfo__TotalInfo",componentId:"sc-zkrqfl-13"})(["display:flex;justify-content:flex-end;width:100%;text-align:right;font-size:20px;line-height:33px;font-weight:",";margin-top:30px;color:#DC5F00;& span{font-size:18px;line-height:33px;font-weight:",";margin-right:22px;color:#DC5F00;}& h2{font-size:24px;font-weight:",";color:#DC5F00;}@media ","{text-align:right;font-size:12px;line-height:12px;font-weight:",";margin-top:15px;color:#DC5F00;& span{font-size:12px;line-height:13px;font-weight:",";margin-right:22px;color:#DC5F00;}& h2{font-size:16px;}}"],(0,j.U)("semiBold"),(0,j.U)("semiBold"),(0,j.U)("bold"),l.Uh.mobileL,(0,j.U)("bold"),(0,j.U)("semiBold")),q=function(n){var e,t,o,i,r=n.paymentDetails,a=n.initialProductInfo,c=(0,p.useState)(0),u=c[0],d=c[1],s=(0,p.useState)(0),l=s[0],f=s[1],m=(0,p.useState)(a),h=m[0];m[1];var x=function(n){var e=[],t=0;return r.product.map(function(o){o.dow===n&&(e.push("".concat(o.name," ").concat(o.amount,"개")),t+=o.amount)}),{product:e=e.join(", "),count:t}},g=function(n){var e=[],t=0;if(h&&h.product)return h.product.map(function(o){o.dow===n&&(e.push("".concat(o.name," ").concat(o.amount,"개")),t+=o.amount)}),{product:e=e.join(", "),count:t}},y=function(){var n,e,t=null===(n=r.coupon)||void 0===n?void 0:n.type,o=null===(e=r.coupon)||void 0===e?void 0:e.discount,i=parseInt(r.milesAmount?r.milesAmount:0);return t&&o?"money"===t?i+o:i+parseInt(r.totalPrice)*(parseInt(o)/100):i};return(0,p.useEffect)(function(){var n=0;r.product.map(function(e){n+=e.amount}),d(n)},[null==r?void 0:r.product]),(0,p.useEffect)(function(){f(y())},[null==r?void 0:r.milesAmount,null==r?void 0:r.coupon]),(0,D.jsxs)(Z,{children:[(0,D.jsx)(I.Dx,{children:"총 결제정보"}),(0,D.jsxs)(N,{children:[(0,D.jsxs)(U,{children:[(0,D.jsxs)(k,{children:[(0,D.jsxs)(O,{children:[(0,D.jsx)(z,{children:"변경 전 수량"}),(0,D.jsx)(L,{children:r&&r.product&&r.dows&&r.dows.map(function(n,e){return(0,D.jsxs)(E,{children:[(0,D.jsx)(B,{children:g(n).product}),(0,D.jsxs)("span",{children:[g(n).count,"개"]})]},"".concat(n).concat(e))})})]}),(0,D.jsxs)(O,{children:[(0,D.jsx)(z,{children:"변경 후 수량"}),(0,D.jsx)(L,{children:r&&r.product&&r.dows&&r.dows.map(function(n,e){return(0,D.jsxs)(E,{children:[(0,D.jsx)(B,{children:x(n).product}),(0,D.jsxs)("span",{children:[x(n).count,"개"]})]},"".concat(n).concat(e))})})]}),(0,D.jsxs)(T,{children:[(0,D.jsx)("span",{children:"총 상품수량"}),u,"개"]})]}),(0,D.jsxs)(k,{children:[(0,D.jsxs)(O,{children:[(0,D.jsx)(z,{children:"변경 전 금액"}),(0,D.jsx)(S,{children:(0,D.jsxs)("span",{children:[_.y.numberCommaFormat(h.defaultDiscountPrice?h.defaultDiscountPrice:0),"원"]})})]}),(0,D.jsxs)(O,{children:[(0,D.jsx)(z,{children:"변경 후 금액"}),(0,D.jsx)(S,{children:(0,D.jsxs)("span",{children:[_.y.numberCommaFormat(r.totalPrice?r.totalPrice:0),"원"]})})]}),(0,D.jsxs)(O,{children:[(0,D.jsx)(z,{children:"할인금액"}),(0,D.jsxs)(L,{children:[null!=r.amountDiscount&&(null===(e=r.amountDiscount)||void 0===e?void 0:e.length)!==0&&0!==r.amountDiscount&&(0,D.jsxs)(F,{children:[(0,D.jsx)("p",{children:"요일별 2개 이상 할인"}),(0,D.jsxs)("span",{children:["-",_.y.numberCommaFormat(1e3*r.amountDiscount),"원"]})]}),(null===(t=r.coupon)||void 0===t?void 0:t.discount)!=null&&(null===(o=r.coupon)||void 0===o?void 0:o.type)!=null&&(null===(i=r.coupon)||void 0===i?void 0:i.length)!==0&&(0,D.jsxs)(F,{children:[(0,D.jsx)("p",{children:r.coupon.name}),(0,D.jsxs)("span",{children:["-",_.y.numberCommaFormat(r.coupon.discount),"money"===r.coupon.type?"원":"%"]})]}),null!=r.milesAmount&&0!==parseInt(r.milesAmount)&&parseInt(r.milesAmount)>=0&&(0,D.jsxs)(F,{children:[(0,D.jsx)("p",{children:" 포인트"}),(0,D.jsxs)("span",{children:["-",_.y.numberCommaFormat(r.milesAmount),"원"]})]})]})]}),(0,D.jsxs)(T,{children:[(0,D.jsx)("span",{children:"총 할인금액 "})," -",_.y.numberCommaFormat(l+(r.amountDiscount?parseInt(1e3*r.amountDiscount):0)),"원"]})]})]}),(0,D.jsx)(T,{children:r.defaultDiscountPrice-h.defaultDiscountPrice<0?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("span",{children:"환불 포인트"}),(0,D.jsx)("h2",{children:_.y.numberCommaFormat(h.defaultDiscountPrice-r.defaultDiscountPrice-parseInt(l))})]}):(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("span",{children:"결제 금액"}),(0,D.jsxs)("h2",{children:[_.y.numberCommaFormat((r.defaultDiscountPrice?parseInt(r.defaultDiscountPrice):0)-h.defaultDiscountPrice-parseInt(l)),"원"]})]})})]})]})},R=t(3864),M=t(1163),G=t.n(M),X=t(8802),V=t.n(X),W=t(3454);function J(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,o)}return t}function Q(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?J(Object(t),!0).forEach(function(e){(0,i.Z)(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):J(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}var K=o.ZP.div.withConfig({displayName:"AmountChange__AmountChangeWrapper",componentId:"sc-obxsho-0"})(["display:flex;flex-direction:column;align-items:center;margin :142px 0 170px;@media ","{padding:80px 0px;margin:0px 0px 120px;}"],l.Uh.mobileL),Y=o.ZP.div.withConfig({displayName:"AmountChange__AmountChangeContainer",componentId:"sc-obxsho-1"})(["display:flex;flex-direction:column;width:596px;@media ","{width:100%;padding:0 24px;}"],l.Uh.mobileL),$=o.ZP.div.withConfig({displayName:"AmountChange__AmountChangeTitleContainer",componentId:"sc-obxsho-2"})(["display:flex;align-items:center;width:100%;width :800px;@media ","{width:100%;padding:0 24px;}"],l.Uh.mobileL),H=o.ZP.div.withConfig({displayName:"AmountChange__AmountChangeTitle",componentId:"sc-obxsho-3"})(["font-size:28px;line-height:56px;font-weight:",";@media ","{font-size:20px;font-weight:",";}"],(0,l.Ue)("medium"),l.Uh.mobileL,(0,l.Ue)("regular")),nn=(0,o.ZP)(w()).withConfig({displayName:"AmountChange__BackwardIcon",componentId:"sc-obxsho-4"})(["margin-right:290px;cursor:pointer;@media ","{width:28px;height:28px;margin-right:81px;}"],l.Uh.mobileL),ne=o.ZP.div.withConfig({displayName:"AmountChange__DateLabel",componentId:"sc-obxsho-5"})(["margin-bottom:8px;@media ","{margin-bottom:0px;}"],l.Uh.mobileL),nt=o.ZP.div.withConfig({displayName:"AmountChange__AmountChangeNotice",componentId:"sc-obxsho-6"})(["width:800px;height:159px;font-size:18px;line-height:26px;font-weight:",";background-color:#F1F1F5;border-radius:5px;padding:30px;margin:67px  auto 50px;span{font-weight:",";}@media ","{width:100%;height:100%;font-size:12px;line-height:20px;margin:18px  auto 40px;padding:20px 24px;}"],(0,l.Ue)("regular"),(0,l.Ue)("semiBold"),l.Uh.mobileL),no=o.ZP.div.withConfig({displayName:"AmountChange__MilesContainer",componentId:"sc-obxsho-7"})(["margin-bottom:30px;"]),ni=o.ZP.div.withConfig({displayName:"AmountChange__AmoutChangeButtonContainer",componentId:"sc-obxsho-8"})(["width:100%;margin-top:40px;"]),nr=function(n){var e,t,o,i=n.orderNo,a=(0,s.Zl)((0,u.Vy)(i)),b=(0,s.sJ)((0,u.Vy)(i)),w=(0,s.sJ)((0,x.cI)(i));(0,s.sJ)((0,h.R9)(i));var j=(0,s.sJ)((0,y._)(i)),I=(0,s.Zl)((0,y._)(i)),_=(0,s.Zl)((0,h.R9)(i)),Z=(0,p.useState)(null),N=Z[0],U=Z[1],A=(0,s.Zl)((0,g.yM)(i)),k=(0,p.useState)(null),O=k[0],z=k[1],S=(0,p.useState)({}),L=S[0],E=S[1],F=function(n){for(var e=0,t=0,o=0,i=0,r=0;r<n.length;r++){var a=n[r];i+=a.amount,o+=parseInt(a.price)*a.amount}return i>=2&&t++,{totalPrice:e+=o,defaultDiscountPrice:e-1e3*t,amountDiscount:t}},B=(e=(0,r.Z)(c().mark(function n(){return c().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,f.Y)({method:"GET",withCredentials:!0,params:{orderNo:i},url:"".concat(W.env.NEXT_PUBLIC_API_SERVER,"/order/initialproductinfo")});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},n)})),function(){return e.apply(this,arguments)});(0,d.useQuery)("getInitialProductInfo",B,{enabled:null!=b.dows,refetchOnWindowFocus:!1,refetchOnmount:!1,refetchOnReconnect:!1,retry:!1,onSuccess:function(n){200===n.status&&n.data.data&&U(function(e){var t=F(n.data.data),o=t.totalPrice,i=t.defaultDiscountPrice,r=t.amountDiscount;return Q(Q({},e),{},{product:n.data.data,totalPrice:o,defaultDiscountPrice:i,amountDiscount:r})})},onError:function(n){console.error("Error Occured : ",n)}});var T=(t=(0,r.Z)(c().mark(function n(){return c().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,f.Y)({method:"GET",withCredentials:!0,params:{orderNo:i},url:"".concat(W.env.NEXT_PUBLIC_API_SERVER,"/order/infowithorderno")});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},n)})),function(){return t.apply(this,arguments)});(0,d.useQuery)("getOrderInfo",T,{enabled:null!=i,refetchOnWindowFocus:!1,refetchOnmount:!1,refetchOnReconnect:!1,retry:!1,onSuccess:function(n){var e=n.data.data[0];200===n.status&&(E(n.data.data[0]),a(function(t){return Q(Q({},t),{},{deliveryDate:new Date(e.deliveryDate),dows:[e.deliveryDow],addressNo:n.data.subscribeInfo.AddressNo,paymentNo:n.data.subscribeInfo.PaymentNo})}),A(function(e){return Q(Q({},e),{},{addressNo:n.data.subscribeInfo.AddressNo})}),_(function(e){return Q(Q({},e),{},{paymentNo:n.data.subscribeInfo.PaymentNo,addPayment:!1})}))},onError:function(n){console.error("Error Occured : ",n)}});var M=(o=(0,r.Z)(c().mark(function n(){var e;return c().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return(e=Q({},b)).beforeTotalPrice=N.defaultDiscountPrice,e.beforeOrderNo=i,n.next=4,(0,f.Y)({method:"POST",withCredentials:!0,data:{orderInfo:e},url:"".concat(W.env.NEXT_PUBLIC_API_SERVER,"/order/amountchange2")});case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}},n)})),function(){return o.apply(this,arguments)}),X=(0,d.useQuery)("sumitAmoutChange".concat(i),M,{enabled:!1,refetchOnWindowFocus:!1,refetchOnmount:!1,refetchOnReconnect:!1,retry:!1,onSuccess:function(n){alert("수량 변경이 정상적으로 완료되었습니다."),G().replace("/mypage",void 0,{shallow:!1})},onError:function(n){console.error("Error Occured : ",n)}}).refetch;(0,p.useEffect)(function(){z(m.tq)},[]),(0,p.useEffect)(function(){if(null!=b&&b.defaultDiscountPrice&&null!=N&&N.defaultDiscountPrice&&(b.defaultDiscountPrice-N.defaultDiscountPrice<=0?(I(function(n){return Q(Q({},n),{},{milesAmount:0})}),a(function(n){return Q(Q({},n),{},{milesAmount:0})})):a(function(n){return Q(Q({},n),{},{coupon:j.coupon,milesAmount:j.milesAmount})})),a(function(n){return Q(Q({},n),{},{product:w.list})}),null!=N&&N.product){var n,e,t,o=(n=N.product,e=w.list,t=[],n.forEach(function(n){e.find(function(e){return e.name===n.name})||t.push(Q(Q({},n),{},{amount:-n.amount}))}),e.forEach(function(e){var o=n.find(function(n){return n.name===e.name});if(o){var i=e.amount-o.amount;0!==i&&t.push(Q(Q({},e),{},{amount:i}))}else t.push(e)}),Object.values(t.reduce(function(n,e){var t=e.name,o=n[t]||{name:t,inc:[],dec:[]};return e.amount>0?o.inc.push(e):o.dec.push(Q(Q({},e),{},{amount:-e.amount})),n[t]=o,n},{})).filter(function(n){return n.inc.length>0||n.dec.length>0}).map(function(n){return{name:n.name,inc:n.inc,dec:n.dec}}));a(function(n){return Q(Q({},n),{},{diff:o})})}},[w.list]),(0,p.useEffect)(function(){if(0!==w.list.length){var n=F(w.list),e=n.totalPrice,t=n.defaultDiscountPrice,o=n.amountDiscount;a(function(n){return Q(Q({},n),{},{product:w.list,totalPrice:e,defaultDiscountPrice:t,amountDiscount:o})})}},[w.list]),(0,p.useEffect)(function(){null!=b&&b.defaultDiscountPrice&&null!=N&&N.defaultDiscountPrice&&(b.defaultDiscountPrice-N.defaultDiscountPrice>0&&b.defaultDiscountPrice-N.defaultDiscountPrice<parseInt(j.milesAmount)?(I(function(n){return Q(Q({},n),{},{milesAmount:b.defaultDiscountPrice-N.defaultDiscountPrice})}),a(function(n){return Q(Q({},n),{},{coupon:j.coupon,milesAmount:b.defaultDiscountPrice-N.defaultDiscountPrice})})):a(function(n){return Q(Q({},n),{},{coupon:j.coupon,milesAmount:j.milesAmount})}))},[j.coupon,j.milesAmount]);var J=function(){if(b&&N){var n=b.product,e=N.product,t=!1;if(n.length!==e.length)return t;for(var o=0;o<n.length;o++)for(var i=n[o],r=0;r<e.length;r++){var a=e[r];if(i.key===a.key){if(i.amount!==a.amount)return!1;t=!0}}return t}};return(0,D.jsx)(K,{children:i&&L&&L.deliveryDate&&(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)($,{children:[(0,D.jsx)(nn,{src:"".concat(V().assetPrefix,"/img/mypage/backward_icon.png"),width:34,height:34,alt:"뒤로가기 아이콘",onClick:function(){G().push("/mypage")}}),(0,D.jsx)(H,{children:"하루 수량 변경"})]}),(0,D.jsxs)(nt,{children:[O?(0,D.jsx)("p",{children:"- 수량 변경이 완료된 이후에는 주문 취소가 불가해요."}):(0,D.jsxs)("p",{children:["- 수량 변경이 완료된 이후에는 ",(0,D.jsx)("span",{children:"주문 취소가 불가"}),"하오니 신중하게 선택해주세요."]}),(0,D.jsx)("p",{children:"- 수량 변경으로 인한 주문취소는 포인트로만 적립돼요."}),(0,D.jsxs)("p",{children:["- 하루 전체 주문 취소는 불가하며 ",(0,D.jsx)("span",{children:"하루 쉬어가기"}),"만 가능해요."]}),(0,D.jsx)("p",{children:"- 포인트는 추가주문 및 정기구독 결제시에만 사용 가능해요."})]}),(0,D.jsxs)(Y,{children:[(0,D.jsxs)(ne,{children:[new Date(L.deliveryDate).getDate(),"일(",L.deliveryDow,"요일)"]}),(null==N?void 0:N.product)&&(0,D.jsx)(P.Z,{selectedDowList:[L.deliveryDow],initialProductInfo:null==N?void 0:N.product,stateKey:i,title:!1,closeBtn:!1}),(0,D.jsx)(v.Z,{stateKey:"".concat(i),redirectUrl:"/order/".concat(i),failRedirectUrl:"/order/".concat(i)}),(null==b?void 0:b.defaultDiscountPrice)-(null==N?void 0:N.defaultDiscountPrice)<=0==!1&&(0,D.jsxs)(no,{children:[(0,D.jsx)(l.Dx,{children:"할인적용"}),(0,D.jsx)(C.Z,{stateKey:i})]}),N&&b&&(0,D.jsx)(q,{initialProductInfo:N,paymentDetails:b}),(0,D.jsx)(ni,{children:(0,D.jsx)(R.M,{onClick:function(){return 0===b.product.length?(alert("수량은 선택해주세요."),!1):!0===J()?(alert("수량이 변경되지 않았습니다."),!1):void(a(function(n){return Q(Q({},n),{},{beforeTotalPrice:N.defaultDiscountPrice,beforeOrderNo:i})}),X())},children:"하루수량 변경하기"})})]})]})})},na=o.ZP.div.withConfig({displayName:"orderNo__AmountChangeMainWrapper",componentId:"sc-135mxuw-0"})([""]),nc=function(){return(0,D.jsx)(na,{children:(0,D.jsx)(nr,{orderNo:0})})}},8254:function(n,e,t){"use strict";t.d(e,{T0:function(){return c},yM:function(){return a}});var o=t(9499),i=t(4480),r=t(5007),a=(0,i.xu)({key:"addressState/".concat((0,r.Z)()),default:function(n){return{id:n,addressList:[],addressNo:null,addModal:!1,addressAvailable:null}}}),c=(0,i.xu)({key:"addressInputState/".concat((0,r.Z)()),default:function(n){var e;return e={id:n,address:{value:"",validation:""},addressLabel:{value:"",validation:""},rcvName:{value:"",validation:""}},(0,o.Z)(e,"address",{value:"",validation:""}),(0,o.Z)(e,"apartmentBuilding",{value:"",validation:""}),(0,o.Z)(e,"apartmentUnit",{value:"",validation:""}),(0,o.Z)(e,"contactNo",{value:"",validation:""}),(0,o.Z)(e,"enterancePassword",{value:"",validation:!0}),e}});(0,i.cn)({key:"newAddressState/".concat((0,r.Z)()),default:{addressLabel:null,RcvName:!1,Address:!1,ApartmentName:!1,ApartmentBuilding:!1,ApartmentUnit:!1,ContactNo:!1}})},1746:function(n,e,t){"use strict";t.d(e,{H9:function(){return c},Pm:function(){return r},Pn:function(){return d},Vy:function(){return u},ne:function(){return a}});var o=t(4480),i=t(5007);(0,o.cn)({key:"mypageUserState/".concat((0,i.Z)()),default:{}});var r=(0,o.cn)({key:"pauseModalState/".concat((0,i.Z)()),default:{modalActive:!1,pause:!0,pauseDeliveryDate:null}}),a=(0,o.xu)({key:"mypageSubscribeCalendar/".concat((0,i.Z)()),default:function(n){return{id:n,selectedDate:new Date,orderInfo:[],menuList:[]}}});(0,o.cn)({key:"mypageUserPasswordState/".concat((0,i.Z)()),default:{isModifying:!1,currentPassword:null,userPassword:null,duplicated:!1,validation:null}}),(0,o.cn)({key:"mypageSubscribeInfoState/".concat((0,i.Z)()),default:[]});var c=(0,o.cn)({key:"mypageSubscribeListState/".concat((0,i.Z)()),default:[]}),u=(0,o.xu)({key:"amountChangeState/".concat((0,i.Z)()),default:function(n){return{id:n,product:[],period:4,deliveryDate:null,dows:[],addressNo:null,paymentNo:null,totalPrice:null,milesAmount:0,coupon:{}}}});(0,o.cn)({key:"amountChangeProductState/".concat((0,i.Z)()),default:[]});var d=(0,o.xu)({key:"mypageAddressState/".concat((0,i.Z)()),default:function(n){return{id:n,modify:!1}}})},4093:function(n,e,t){"use strict";t.d(e,{By:function(){return d},FX:function(){return u},TD:function(){return c},bw:function(){return r},cI:function(){return a},ri:function(){return s}});var o=t(4480),i=t(5007),r=(0,o.cn)({key:"subscribeState/".concat((0,i.Z)()),default:{product:[],period:4,deliveryDate:null,dows:[],addressNo:null,paymentNo:null,totalPrice:null,milesAmount:0,coupon:{}}});(0,o.cn)({key:"subscribeRouterState/".concat((0,i.Z)()),default:!0});var a=(0,o.xu)({key:"productState/".concat((0,i.Z)()),default:function(n){return{id:n,list:[]}}}),c=(0,o.xu)({key:"deliveryDowState/".concat((0,i.Z)()),default:function(n){return{id:n,list:[]}}}),u=(0,o.xu)({key:"deliveryDateState/".concat((0,i.Z)()),default:function(n){return{id:n,list:[]}}}),d=(0,o.xu)({key:"refundState/".concat((0,i.Z)()),default:function(n){return{id:n,list:{}}}}),s=(0,o.xu)({key:"cancelRefundState/".concat((0,i.Z)()),default:function(n){return{id:n,list:{}}}})},6763:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mypage/order/[orderNo]",function(){return t(9345)}])},29:function(n,e,t){"use strict";function o(n,e,t,o,i,r,a){try{var c=n[r](a),u=c.value}catch(d){t(d);return}c.done?e(u):Promise.resolve(u).then(o,i)}function i(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var a=n.apply(e,t);function c(n){o(a,i,r,c,u,"next",n)}function u(n){o(a,i,r,c,u,"throw",n)}c(void 0)})}}t.d(e,{Z:function(){return i}})}},function(n){n.O(0,[255,345,774,888,179],function(){return n(n.s=6763)}),_N_E=n.O()}]);