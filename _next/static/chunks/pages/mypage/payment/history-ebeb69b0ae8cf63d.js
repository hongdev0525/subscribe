(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{2342:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mypage/payment/history",function(){return t(6775)}])},8482:function(n,e,t){"use strict";var r=t(7297),i=t(5893),o=t(9521);t(1163);var s=t(5675),a=t.n(s),l=t(9971);function c(){let n=(0,r.Z)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  padding-bottom: 67px;\n  border-bottom: 1px solid #232323;\n  @media "," {\n    border-bottom:none;\n    padding-bottom: 0;\n    margin-bottom: 40px;\n  }\n"]);return c=function(){return n},n}function u(){let n=(0,r.Z)(["\n  text-align: center;\n  width: 100%;\n"]);return u=function(){return n},n}function d(){let n=(0,r.Z)(["\n    font-size: 28px;\n    line-height: 33px;\n    font-weight: ",";\n    margin-bottom: 12px;\n    @media "," {\n      font-size: 20px;\n      font-weight: ",";\n  }\n"]);return d=function(){return n},n}function p(){let n=(0,r.Z)(["\n  position: absolute;\n  left:0;\n  top:17px;\n  transform: translate(0%,-50%);\n  img{\n    cursor: pointer;\n  }\n  @media "," {\n    img{\n      width: 28px;\n      height: 28px;\n    } \n  }\n"]);return p=function(){return n},n}t(7294);let m=o.ZP.div(c(),l.Uh.mobileL),x=o.ZP.div(u()),h=o.ZP.div(d(),(0,l.Ue)("medium"),l.Uh.mobileL,(0,l.Ue)("regular")),f=o.ZP.div(p(),l.Uh.mobileL);e.Z=function(n){let{url:e,title:t,backward:r=!0}=n,o=n=>{location.href=n};return(0,i.jsxs)(m,{children:[!0===r&&(0,i.jsx)(f,{children:(0,i.jsx)(a(),{src:"/img/mypage/backward_icon.png",width:34,height:34,alt:"뒤로가기 아이콘",onClick:()=>o(e)})}),(0,i.jsx)(x,{children:(0,i.jsx)(h,{children:t})})]})}},6775:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return R}});var r=t(7297),i=t(5893),o=t(9521),s=t(9971),a=t(5838),l=t(8767),c=t(4480),u=t(5004);t(7294);var d=t(8482),p=t(2490),m=t(1163),x=t.n(m),h=t(3454);function f(){let n=(0,r.Z)(["\ndisplay: flex;\nflex-direction: column;\nalign-items: center;\nmargin  : 142px 0 170px;\n  @media "," {\n    padding: 80px 0px;\n    margin: 0px ;\n  }\n"]);return f=function(){return n},n}function g(){let n=(0,r.Z)(["\n width: 800px;\n  @media "," {\n    width: 100%;\n    padding: 0 24px;\n    div{\n      margin-bottom: 0px;\n    }\n  }\n"]);return g=function(){return n},n}function y(){let n=(0,r.Z)(["\n  \n"]);return y=function(){return n},n}function b(){let n=(0,r.Z)(["\n  border-bottom : 8px solid #F1F1F5;\n  margin-bottom: 22px;\n"]);return b=function(){return n},n}function j(){let n=(0,r.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 16px;\n  color: #767676;\n  padding-bottom: 12px;\n  border-bottom: 1px solid #F3F3F7;\n  font-weight: ",";\n\n  span{\n      font-size: 16px;\n    color: #767676;\n  font-weight: ",";\n\n  }\n"]);return j=function(){return n},n}function P(){let n=(0,r.Z)(["\n  font-size: 16px;\n  color: #767676;\n  font-weight: ",";\n   span{\n    font-size: 16px;\n    color: #767676;\n    font-weight: ",";\n  }\n \n"]);return P=function(){return n},n}function Z(){let n=(0,r.Z)(["\ncolor: #DC5F00 !important;\n"]);return Z=function(){return n},n}function w(){let n=(0,r.Z)(["\n  width: fit-content;\n  height: 25px;\n  border: 1px solid #DBDBDB;\n  border-radius:  13px;\n  background-color: #fefefe;\n  padding: 5px 10px;\n  cursor: pointer;\n  @media "," {\n    font-size: 12px;\n    font-weight: ",";\n  }\n"]);return w=function(){return n},n}function v(){let n=(0,r.Z)(["\n  padding: 24px 0 33px;\n  h2{\n    font-size: 20px;\n    font-weight: ",";\n    margin-bottom: 10px;\n  }\n  @media "," {\n  padding: 26px 0 37px;\n\n    h2{\n      font-size: 18px;\n      font-weight: ",";\n    }\n  }\n"]);return v=function(){return n},n}function U(){let n=(0,r.Z)(["\n  display: flex;\n  p, span{\n    display: block;\n  font-size: 16px;\n  color: #767676;\n  font-weight: ",";\n  }\n  span{\n    margin: 0 10px;\n  }\n  @media "," {\n    display: flex;\n    flex-direction: column;\n    span{\n        display: none;\n    }\n    p{\n      font-size: 14px;\n      line-height: 18px;\n    }\n  }\n"]);return U=function(){return n},n}function F(){let n=(0,r.Z)(["\n  width: 800px;\n margin-bottom: 5px;\n div{\n border-bottom: none;\n  }\n  @media "," {\n    width: 100%;\n    padding: 0 24px 60px;\n    div{\n      margin-bottom: 0px;\n    }\n  }\n"]);return F=function(){return n},n}let L=o.ZP.div(f(),s.Uh.mobileL),_=o.ZP.div(g(),s.Uh.mobileL),E=o.ZP.ul(y()),C=o.ZP.li(b()),k=o.ZP.div(j(),(0,s.Ue)("regular"),(0,s.Ue)("regular")),D=o.ZP.div(P(),(0,s.Ue)("regular"),(0,s.Ue)("regular")),S=o.ZP.span(Z()),N=o.ZP.button(w(),s.Uh.mobileL,(0,s.Ue)("regular")),z=o.ZP.div(v(),(0,s.Ue)("semiBold"),s.Uh.mobileL,(0,s.Ue)("semiBold")),A=o.ZP.div(U(),(0,s.Ue)("regular"),s.Uh.mobileL),O=o.ZP.div(F(),s.Uh.mobileL);var T=function(){let n=(0,c.sJ)(u.Vf),e=(0,c.Zl)(u.Vf),t=async()=>await (0,a.Y)({method:"GET",withCredentials:!0,url:"".concat(h.env.NEXT_PUBLIC_API_SERVER,"/payment/historyoforder")});(0,l.useQuery)("getPaymentHistoryListOfOrder",t,{onSuccess:n=>{console.log("res",n);let t=n.data.data;console.log("response",t),e(n=>({...n,orderList:t}))},onError:n=>{console.error("Error Occured : ",n)}});let r=async()=>await (0,a.Y)({method:"GET",withCredentials:!0,url:"".concat(h.env.NEXT_PUBLIC_API_SERVER,"/payment/historylistofsubscribe")});(0,l.useQuery)("getPaymentHistoryListOfSubscribe",r,{onSuccess:n=>{console.log("res",n);let t=n.data.data;console.log("response",t),e(n=>({...n,subscribeList:t}))},onError:n=>{console.error("Error Occured : ",n)}});let o=n=>{let e=[];return n.split(",").map(n=>{e.push(n+"요일")}),e.join(",")},s=n=>{if(n){let e=[];return n.replaceAll("-"," ").split(",").map(n=>{e.push(n+"개")}),e.join(",")}};return(0,i.jsxs)(L,{children:[(0,i.jsx)(O,{children:(0,i.jsx)(d.Z,{url:"/mypage",title:"결제/취소내역"})}),(0,i.jsx)(_,{children:(0,i.jsxs)(E,{children:[n&&n.subscribeList&&n.subscribeList.map(n=>(console.log("paymentHistory",n),(0,i.jsxs)(C,{children:[(0,i.jsxs)(k,{children:[(0,i.jsxs)(D,{children:[p.y.DateFormatting(n.PaymentDate).split(" ")[0],"(",p.y.getDayOfWeek(n.PaymentDate),")  \xb7  ","paid"===n.PaymentStatus?(0,i.jsx)(S,{children:"기존주문"}):(0,i.jsx)("span",{children:"환불"})]}),(0,i.jsx)(N,{onClick:()=>{x().push("/mypage/payment/subscribe/".concat(n.HistoryNo))},children:"결제상세"})]}),(0,i.jsxs)(z,{children:[(0,i.jsx)("h2",{children:n.PaymentType}),(0,i.jsxs)(A,{children:[(0,i.jsxs)("p",{children:["구독요일 : ",o(n.Dows)]})," ",(0,i.jsx)("span",{children:"|"}),(0,i.jsxs)("p",{children:["총 상품수량 : ",n.ProductAmount,"개"]})," ",(0,i.jsx)("span",{children:"|"}),"paid"===n.PaymentStatus&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("p",{children:["결제금액 : ",p.y.numberCommaFormat(n.Price),"원"]}),(0,i.jsx)("span",{children:"|"}),(0,i.jsxs)("p",{children:["적립금사용 : ",p.y.numberCommaFormat(n.Amount?n.Amount:0),"원"]})]}),"refund"===n.PaymentStatus&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("p",{children:["환불금액 : ",p.y.numberCommaFormat(n.Price),"원"]}),(0,i.jsx)("span",{children:"|"}),(0,i.jsxs)("p",{children:["적립금환불 : ",p.y.numberCommaFormat(n.Amount?n.Amount:0),"원"]})]})]})]})]},"".concat(n.HistoryNo)))),n&&n.orderList&&n.orderList.map(n=>(0,i.jsxs)(C,{children:[(0,i.jsxs)(k,{children:[(0,i.jsxs)(D,{children:[p.y.DateFormatting(n.RegDate).split(" ")[0],"(",p.y.getDayOfWeek(n.PaymentDate),") ꞏ ","paid"===n.PaymentStatus?(0,i.jsx)(S,{children:"기존주문"}):(0,i.jsx)("span",{children:"적립금환불"})]}),(0,i.jsx)(N,{onClick:()=>{x().push("/mypage/payment/orders/".concat(n.OrderNo))},children:"결제상세"})]}),(0,i.jsxs)(z,{children:[(0,i.jsx)("h2",{children:n.EventType}),(0,i.jsxs)(A,{children:[(0,i.jsxs)("p",{children:["상품 : ",s(n.Product)]})," ",(0,i.jsx)("span",{children:"|"}),"paid"===n.PaymentStatus&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("p",{children:["결제금액 : ",p.y.numberCommaFormat(n.Price),"원"]}),(0,i.jsx)("span",{children:"|"}),(0,i.jsxs)("p",{children:["적립금사용 : ",p.y.numberCommaFormat(n.Amount?n.Amount:0),"원"]})]}),"refund"===n.PaymentStatus&&(0,i.jsxs)("p",{children:["환불적립금 : ",p.y.numberCommaFormat(n.Amount),"원"]})]})]})]},n.OrderNo))]})})]})};function B(){let n=(0,r.Z)(["\n"]);return B=function(){return n},n}let H=o.ZP.div(B());var R=function(){return(0,i.jsx)(H,{children:(0,i.jsx)(T,{})})}},5004:function(n,e,t){"use strict";t.d(e,{R9:function(){return s},U2:function(){return o},Vf:function(){return a}});var r=t(4480),i=t(5007);let o=(0,r.xu)({key:"cardState/".concat((0,i.Z)()),default:n=>({id:n,cardNumber:"",expiry:"",birth:"",pwd2Digit:""})}),s=(0,r.xu)({key:"deliveryDowState/".concat((0,i.Z)()),default:n=>({id:n,list:[],paymentNo:null,paymentModal:!1,paymentType:null,addPayment:!1})}),a=(0,r.cn)({key:"paymentHistoryState/".concat((0,i.Z)()),default:{list:[]}})}},function(n){n.O(0,[774,888,179],function(){return n(n.s=2342)}),_N_E=n.O()}]);