(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{4163:function(e,t,n){"use strict";var i=n(9521);n(1163);var r=n(5675),o=n.n(r),a=n(3735);n(7294);var s=n(8802),c=n.n(s),p=n(5893),d=i.ZP.div.withConfig({displayName:"MypageTitle__MypageTitleWrapper",componentId:"sc-uuxqct-0"})(["position:relative;display:flex;align-items:center;padding-bottom:67px;border-bottom:1px solid #232323;@media ","{border-bottom:none;padding-bottom:0;margin-bottom:40px;}"],a.Uh.mobileL),m=i.ZP.div.withConfig({displayName:"MypageTitle__MypageTitleContainer",componentId:"sc-uuxqct-1"})(["text-align:center;width:100%;"]),l=i.ZP.div.withConfig({displayName:"MypageTitle__MypageTitleText",componentId:"sc-uuxqct-2"})(["font-size:28px;line-height:33px;font-weight:",";margin-bottom:12px;@media ","{font-size:20px;font-weight:",";}"],(0,a.Ue)("medium"),a.Uh.mobileL,(0,a.Ue)("regular")),u=i.ZP.div.withConfig({displayName:"MypageTitle__BackwardImageContainer",componentId:"sc-uuxqct-3"})(["position:absolute;left:0;top:17px;transform:translate(0%,-50%);img{cursor:pointer;}@media ","{img{width:28px;height:28px;}}"],a.Uh.mobileL);t.Z=function(e){var t=e.url,n=e.title,i=e.backward,r=function(e){location.href=e};return(0,p.jsxs)(d,{children:[!0===(void 0===i||i)&&(0,p.jsx)(u,{children:(0,p.jsx)(o(),{src:"".concat(c().assetPrefix,"/img/mypage/backward_icon.png"),width:34,height:34,alt:"뒤로가기 아이콘",onClick:function(){return r(t)}})}),(0,p.jsx)(m,{children:(0,p.jsx)(l,{children:n})})]})}},634:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var i=n(9521),r=n(9499),o=n(29),a=n(7794),s=n.n(a),c=n(3735),p=n(1896),d=n(8767),m=n(4480),l=n(129);n(7294);var u=n(4163),y=n(35),x=n(1163),f=n.n(x),h=n(5893),g=n(3454);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var j=i.ZP.div.withConfig({displayName:"PaymentHistory__PaymentHistoryWrapper",componentId:"sc-1xx426f-0"})(["display:flex;flex-direction:column;align-items:center;margin :142px 0 170px;@media ","{padding:80px 0px;margin:0px;}"],c.Uh.mobileL),w=i.ZP.div.withConfig({displayName:"PaymentHistory__PaymentHistoryContainer",componentId:"sc-1xx426f-1"})(["width:800px;@media ","{width:100%;padding:0 24px;div{margin-bottom:0px;}}"],c.Uh.mobileL),_=i.ZP.ul.withConfig({displayName:"PaymentHistory__PaymentHistoryList",componentId:"sc-1xx426f-2"})([""]),v=i.ZP.li.withConfig({displayName:"PaymentHistory__PaymentHistoryInfo",componentId:"sc-1xx426f-3"})(["border-bottom :8px solid #F1F1F5;margin-bottom:22px;"]),C=i.ZP.div.withConfig({displayName:"PaymentHistory__PaymentHistoryInfoHeader",componentId:"sc-1xx426f-4"})(["display:flex;justify-content:space-between;align-items:center;font-size:16px;color:#767676;padding-bottom:12px;border-bottom:1px solid #F3F3F7;font-weight:",";span{font-size:16px;color:#767676;font-weight:",";}"],(0,c.Ue)("regular"),(0,c.Ue)("regular")),N=i.ZP.div.withConfig({displayName:"PaymentHistory__HeaderInfo",componentId:"sc-1xx426f-5"})(["font-size:16px;color:#767676;font-weight:",";span{font-size:16px;color:#767676;font-weight:",";}"],(0,c.Ue)("regular"),(0,c.Ue)("regular")),O=i.ZP.span.withConfig({displayName:"PaymentHistory__Colored",componentId:"sc-1xx426f-6"})(["color:#DC5F00 !important;"]),H=i.ZP.button.withConfig({displayName:"PaymentHistory__DetailsButton",componentId:"sc-1xx426f-7"})(["width:fit-content;height:25px;border:1px solid #DBDBDB;border-radius:13px;background-color:#fefefe;padding:5px 10px;cursor:pointer;@media ","{font-size:12px;font-weight:",";}"],c.Uh.mobileL,(0,c.Ue)("regular")),I=i.ZP.div.withConfig({displayName:"PaymentHistory__PaymentHistoryInfoBody",componentId:"sc-1xx426f-8"})(["padding:24px 0 33px;h2{font-size:20px;font-weight:",";margin-bottom:10px;}@media ","{padding:26px 0 37px;h2{font-size:18px;font-weight:",";}}"],(0,c.Ue)("semiBold"),c.Uh.mobileL,(0,c.Ue)("semiBold")),Z=i.ZP.div.withConfig({displayName:"PaymentHistory__HistoryInfoBody",componentId:"sc-1xx426f-9"})(["display:flex;p,span{display:block;font-size:16px;color:#767676;font-weight:",";}span{margin:0 10px;}@media ","{display:flex;flex-direction:column;span{display:none;}p{font-size:14px;line-height:18px;}}"],(0,c.Ue)("regular"),c.Uh.mobileL),U=i.ZP.div.withConfig({displayName:"PaymentHistory__MypageTitleContainer",componentId:"sc-1xx426f-10"})(["width:800px;margin-bottom:5px;div{border-bottom:none;}@media ","{width:100%;padding:0 24px 60px;div{margin-bottom:0px;}}"],c.Uh.mobileL),k=function(){var e,t,n=(0,m.sJ)(l.Vf),i=(0,m.Zl)(l.Vf),r=(e=(0,o.Z)(s().mark(function e(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.Y)({method:"GET",withCredentials:!0,url:"".concat(g.env.NEXT_PUBLIC_API_SERVER,"/payment/historyoforder")});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)});(0,d.useQuery)("getPaymentHistoryListOfOrder",r,{onSuccess:function(e){console.log("res",e);var t=e.data.data;console.log("response",t),i(function(e){return P(P({},e),{},{orderList:t})})},onError:function(e){console.error("Error Occured : ",e)}});var a=(t=(0,o.Z)(s().mark(function e(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.Y)({method:"GET",withCredentials:!0,url:"".concat(g.env.NEXT_PUBLIC_API_SERVER,"/payment/historylistofsubscribe")});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)});(0,d.useQuery)("getPaymentHistoryListOfSubscribe",a,{onSuccess:function(e){console.log("res",e);var t=e.data.data;console.log("response",t),i(function(e){return P(P({},e),{},{subscribeList:t})})},onError:function(e){console.error("Error Occured : ",e)}});var c=function(e){var t=[];return e.split(",").map(function(e){t.push(e+"요일")}),t.join(",")},x=function(e){if(e){var t=[];return e.replaceAll("-"," ").split(",").map(function(e){t.push(e+"개")}),t.join(",")}};return(0,h.jsxs)(j,{children:[(0,h.jsx)(U,{children:(0,h.jsx)(u.Z,{url:"/mypage",title:"결제/취소내역"})}),(0,h.jsx)(w,{children:(0,h.jsxs)(_,{children:[n&&n.subscribeList&&n.subscribeList.map(function(e){return console.log("paymentHistory",e),(0,h.jsxs)(v,{children:[(0,h.jsxs)(C,{children:[(0,h.jsxs)(N,{children:[y.y.DateFormatting(e.PaymentDate).split(" ")[0],"(",y.y.getDayOfWeek(e.PaymentDate),")  \xb7  ","paid"===e.PaymentStatus?(0,h.jsx)(O,{children:"기존주문"}):(0,h.jsx)("span",{children:"환불"})]}),(0,h.jsx)(H,{onClick:function(){f().push("/mypage/payment/subscribe/".concat(e.HistoryNo))},children:"결제상세"})]}),(0,h.jsxs)(I,{children:[(0,h.jsx)("h2",{children:e.PaymentType}),(0,h.jsxs)(Z,{children:[(0,h.jsxs)("p",{children:["구독요일 : ",c(e.Dows)]})," ",(0,h.jsx)("span",{children:"|"}),(0,h.jsxs)("p",{children:["총 상품수량 : ",e.ProductAmount,"개"]})," ",(0,h.jsx)("span",{children:"|"}),"paid"===e.PaymentStatus&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("p",{children:["결제금액 : ",y.y.numberCommaFormat(e.Price),"원"]}),(0,h.jsx)("span",{children:"|"}),(0,h.jsxs)("p",{children:["적립금사용 : ",y.y.numberCommaFormat(e.Amount?e.Amount:0),"원"]})]}),"refund"===e.PaymentStatus&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("p",{children:["환불금액 : ",y.y.numberCommaFormat(e.Price),"원"]}),(0,h.jsx)("span",{children:"|"}),(0,h.jsxs)("p",{children:["적립금환불 : ",y.y.numberCommaFormat(e.Amount?e.Amount:0),"원"]})]})]})]})]},"".concat(e.HistoryNo))}),n&&n.orderList&&n.orderList.map(function(e){return(0,h.jsxs)(v,{children:[(0,h.jsxs)(C,{children:[(0,h.jsxs)(N,{children:[y.y.DateFormatting(e.RegDate).split(" ")[0],"(",y.y.getDayOfWeek(e.PaymentDate),") ꞏ ","paid"===e.PaymentStatus?(0,h.jsx)(O,{children:"기존주문"}):(0,h.jsx)("span",{children:"적립금환불"})]}),(0,h.jsx)(H,{onClick:function(){f().push("/mypage/payment/orders/".concat(e.OrderNo))},children:"결제상세"})]}),(0,h.jsxs)(I,{children:[(0,h.jsx)("h2",{children:e.EventType}),(0,h.jsxs)(Z,{children:[(0,h.jsxs)("p",{children:["상품 : ",x(e.Product)]})," ",(0,h.jsx)("span",{children:"|"}),"paid"===e.PaymentStatus&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("p",{children:["결제금액 : ",y.y.numberCommaFormat(e.Price),"원"]}),(0,h.jsx)("span",{children:"|"}),(0,h.jsxs)("p",{children:["적립금사용 : ",y.y.numberCommaFormat(e.Amount?e.Amount:0),"원"]})]}),"refund"===e.PaymentStatus&&(0,h.jsxs)("p",{children:["환불적립금 : ",y.y.numberCommaFormat(e.Amount),"원"]})]})]})]},e.OrderNo)})]})})]})},D=i.ZP.div.withConfig({displayName:"history__PaymentHistoryManagementWrapper",componentId:"sc-zjw28r-0"})([""]),E=function(){return(0,h.jsx)(D,{children:(0,h.jsx)(k,{})})}},129:function(e,t,n){"use strict";n.d(t,{R9:function(){return a},U2:function(){return o},Vf:function(){return s}});var i=n(4480),r=n(5007),o=(0,i.xu)({key:"cardState/".concat((0,r.Z)()),default:function(e){return{id:e,cardNumber:"",expiry:"",birth:"",pwd2Digit:""}}}),a=(0,i.xu)({key:"deliveryDowState/".concat((0,r.Z)()),default:function(e){return{id:e,list:[],paymentNo:null,paymentModal:!1,paymentType:null,addPayment:!1}}}),s=(0,i.cn)({key:"paymentHistoryState/".concat((0,r.Z)()),default:{list:[]}})},2342:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mypage/payment/history",function(){return n(634)}])}},function(e){e.O(0,[774,888,179],function(){return e(e.s=2342)}),_N_E=e.O()}]);