(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[88],{4610:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mypage/subscribe",function(){return t(7042)}])},8482:function(n,e,t){"use strict";var i=t(7297),r=t(5893),o=t(9521);t(1163);var u=t(5675),c=t.n(u),l=t(9971);function a(){let n=(0,i.Z)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  padding-bottom: 67px;\n  border-bottom: 1px solid #232323;\n  @media "," {\n    border-bottom:none;\n    padding-bottom: 0;\n    margin-bottom: 40px;\n  }\n"]);return a=function(){return n},n}function s(){let n=(0,i.Z)(["\n  text-align: center;\n  width: 100%;\n"]);return s=function(){return n},n}function d(){let n=(0,i.Z)(["\n    font-size: 28px;\n    line-height: 33px;\n    font-weight: ",";\n    margin-bottom: 12px;\n    @media "," {\n      font-size: 20px;\n      font-weight: ",";\n  }\n"]);return d=function(){return n},n}function p(){let n=(0,i.Z)(["\n  position: absolute;\n  left:0;\n  top:17px;\n  transform: translate(0%,-50%);\n  img{\n    cursor: pointer;\n  }\n  @media "," {\n    img{\n      width: 28px;\n      height: 28px;\n    } \n  }\n"]);return p=function(){return n},n}t(7294);let f=o.ZP.div(a(),l.Uh.mobileL),x=o.ZP.div(s()),m=o.ZP.div(d(),(0,l.Ue)("medium"),l.Uh.mobileL,(0,l.Ue)("regular")),h=o.ZP.div(p(),l.Uh.mobileL);e.Z=function(n){let{url:e,title:t,backward:i=!0}=n,o=n=>{location.href=n};return(0,r.jsxs)(f,{children:[!0===i&&(0,r.jsx)(h,{children:(0,r.jsx)(c(),{src:"/img/mypage/backward_icon.png",width:34,height:34,alt:"뒤로가기 아이콘",onClick:()=>o(e)})}),(0,r.jsx)(x,{children:(0,r.jsx)(m,{children:t})})]})}},3711:function(n,e,t){"use strict";var i=t(7297),r=t(5893),o=t(9521),u=t(9971),c=t(8767),l=t(5838),a=t(4480),s=t(5540);t(7294);var d=t(1163),p=t.n(d),f=t(2490),x=t(8482),m=t(3454);function h(){let n=(0,i.Z)(["\ndisplay: flex;\n  flex-direction: column;\n  align-items: center;\n  margin  : 142px 0 170px;\n  @media "," {\n    padding: 80px 0px;\n    margin: 0px 0px 120px;\n  }\n\n"]);return h=function(){return n},n}function g(){let n=(0,i.Z)(["\n  width: 800px;\n  @media "," {\n    width: 100%;\n    padding: 0 24px;\n    div{\n      margin-bottom: 0px;\n    }\n  }\n"]);return g=function(){return n},n}function b(){let n=(0,i.Z)(["\n  font-size: 16px;\n  color: #767676;\n  font-weight: ",";\n   span{\n    font-size: 16px;\n    color: #767676;\n    font-weight: ",";\n  }\n \n"]);return b=function(){return n},n}function Z(){let n=(0,i.Z)(["\ncolor: #DC5F00 !important;\n"]);return Z=function(){return n},n}function w(){let n=(0,i.Z)(["\n \n"]);return w=function(){return n},n}function y(){let n=(0,i.Z)(["\n     border-bottom : 8px solid #F1F1F5;\n      margin-bottom: 22px;\n"]);return y=function(){return n},n}function j(){let n=(0,i.Z)(["\n  padding: 24px 0 33px;\n  h2{\n    font-size: 20px;\n    font-weight: ",";\n    margin-bottom: 10px;\n  }\n  @media "," {\n  padding: 26px 0 37px;\n\n    h2{\n      font-size: 18px;\n      font-weight: ",";\n    }\n  }\n"]);return j=function(){return n},n}function v(){let n=(0,i.Z)(["\n  display: flex;\n  margin-bottom: 2px;\n  p, span{\n    display: block;\n  font-size: 16px;\n  color: #767676;\n  font-weight: ",";\n  }\n  span{\n    margin: 0 10px;\n  }\n  @media "," {\n    display: flex;\n    flex-direction: column;\n    span{\n        display: none;\n    }\n    p{\n      font-size: 14px;\n      line-height: 18px;\n    }\n  }\n"]);return v=function(){return n},n}function P(){let n=(0,i.Z)(["\n  width: 123px;\n  font-size: 16px;\n  color:#767676;\n  @media "," {\n    font-size: 14px;\n    font-weight: ",";\n    line-height: 18px;\n    margin-bottom: 4px;\n  }\n"]);return P=function(){return n},n}function U(){let n=(0,i.Z)(["\n @media "," {\n    font-size: 14px;\n    font-weight: ",";\n    line-height: 18px;\n  }\n"]);return U=function(){return n},n}function k(){let n=(0,i.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 16px;\n  color: #767676;\n  padding-bottom: 12px;\n  border-bottom: 1px solid #F3F3F7;\n  font-weight: ",";\n\n  span{\n      font-size: 16px;\n    color: #767676;\n  font-weight: ",";\n\n  }\n"]);return k=function(){return n},n}function L(){let n=(0,i.Z)(["\n    color : #DBDBDB;\n    pointer-events: none;\n  "]);return L=function(){return n},n}function _(){let n=(0,i.Z)(["\n    "]);return _=function(){return n},n}function z(){let n=(0,i.Z)(["\n  width: fit-content;\n  height: 25px;\n  border: 1px solid #DBDBDB;\n  border-radius:  13px;\n  background-color: #fefefe;\n  padding: 5px 10px;\n  cursor: pointer;\n  ","\n  @media "," {\n    font-size: 12px;\n    font-weight: ",";\n  }\n"]);return z=function(){return n},n}function C(){let n=(0,i.Z)(["\n  width: 800px;\n  div{\n  border-bottom: none;\n  }\n  @media "," {\n    width: 100%;\n    padding: 0 24px;\n    div{\n      margin-bottom: 0px;\n    }\n  }\n"]);return C=function(){return n},n}let D=o.ZP.div(h(),u.Uh.mobileL),S=o.ZP.div(g(),u.Uh.mobileL),E=o.ZP.div(b(),(0,u.Ue)("regular"),(0,u.Ue)("regular")),N=o.ZP.span(Z()),B=o.ZP.ul(w()),F=o.ZP.li(y()),I=o.ZP.div(j(),(0,u.Ue)("semiBold"),u.Uh.mobileL,(0,u.Ue)("semiBold")),O=o.ZP.div(v(),(0,u.Ue)("regular"),u.Uh.mobileL),T=o.ZP.div(P(),u.Uh.mobileL,(0,u.Ue)("regular")),A=o.ZP.div(U(),u.Uh.mobileL,(0,u.Ue)("regular")),H=o.ZP.div(k(),(0,u.Ue)("regular"),(0,u.Ue)("regular")),V=o.ZP.button(z(),n=>!0==n.isCancel?(0,o.iv)(L()):(0,o.iv)(_()),u.Uh.mobileL,(0,u.Ue)("regular")),X=o.ZP.div(C(),u.Uh.mobileL);e.Z=function(){let n=(0,a.sJ)(s.H9),e=(0,a.Zl)(s.H9);(0,c.useQuery)("getSubscribeList",()=>t(),{onSuccess:n=>{let t=n.data;console.log("response",t),e(t.data)},onError:n=>{console.error("Error Occured : ",n)}});let t=async()=>await (0,l.Y)({method:"GET",withCredentials:!0,url:"".concat(m.env.NEXT_PUBLIC_API_SERVER,"/subscribe/list")});return(0,r.jsxs)(D,{children:[(0,r.jsx)(X,{children:(0,r.jsx)(x.Z,{url:"/mypage",title:"구독관리"})}),(0,r.jsx)(S,{children:(0,r.jsx)(B,{children:n&&n.map((n,e)=>{if(console.log("subscribeInfo",n),"subscribe"===n.subsType)return(0,r.jsxs)(F,{children:[(0,r.jsxs)(H,{children:[(0,r.jsxs)(E,{children:[n.addressLabel," ꞏ ","normal"===n.statusCode?(0,r.jsx)(N,{children:"구독중"}):(0,r.jsx)("span",{children:"구독해지"})]}),(0,r.jsx)(V,{onClick:()=>{p().push("/mypage/subscribe/cancel/".concat(n.subsNo))},isCancel:"normal"!==n.statusCode,children:"구독해지"})]}),(0,r.jsxs)(I,{children:[(0,r.jsxs)(O,{children:[(0,r.jsx)(T,{children:" 구독 메뉴 "})," ",(0,r.jsx)(A,{children:function(n){let e={};n.forEach(n=>{let t=n.dow,i=n.name;e[t]||(e[t]={}),e[t][i]||(e[t][i]=0),e[t][i]+=n.amount});let t=Object.keys(e).map(n=>{let t=e[n],i=Object.keys(t).map(n=>{let e=t[n];return"".concat(n," ").concat(e,"개")}).join(", ");return"".concat(n," - ").concat(i)});return t.join(" / ")}(n.product.filter(e=>n.dows.split(",").includes(e.dow)))})]}),(0,r.jsxs)(O,{children:[(0,r.jsx)(T,{children:" 구독 시작일"})," ",(0,r.jsxs)(A,{children:[" ",f.y.DateFormatting(n.regDate).split(" ")[0]]})]})]})]},"subscribeList".concat(n.subsNo))})})})]})}},7042:function(n,e,t){"use strict";t.r(e);var i=t(7297),r=t(5893),o=t(9521),u=t(9971),c=t(3711);function l(){let n=(0,i.Z)(["\n    margin: 85px auto;\n  "]);return l=function(){return n},n}let a=(0,o.ZP)(u.W2)(l());e.default=function(){return(0,r.jsxs)(a,{children:[(0,r.jsx)(u.V1,{children:"구독관리"}),(0,r.jsx)(c.Z,{})]})}},5540:function(n,e,t){"use strict";t.d(e,{H9:function(){return c},Pm:function(){return o},Pn:function(){return a},Vy:function(){return l},ne:function(){return u}});var i=t(4480),r=t(5007);(0,i.cn)({key:"mypageUserState/".concat((0,r.Z)()),default:{}});let o=(0,i.cn)({key:"pauseModalState/".concat((0,r.Z)()),default:{modalActive:!1,pause:!0,pauseDeliveryDate:null}}),u=(0,i.xu)({key:"mypageSubscribeCalendar/".concat((0,r.Z)()),default:n=>({id:n,selectedDate:new Date,orderInfo:[],menuList:[]})});(0,i.cn)({key:"mypageUserPasswordState/".concat((0,r.Z)()),default:{isModifying:!1,currentPassword:null,userPassword:null,duplicated:!1,validation:null}}),(0,i.cn)({key:"mypageSubscribeInfoState/".concat((0,r.Z)()),default:[]});let c=(0,i.cn)({key:"mypageSubscribeListState/".concat((0,r.Z)()),default:[]}),l=(0,i.xu)({key:"amountChangeState/".concat((0,r.Z)()),default:n=>({id:n,product:[],period:4,deliveryDate:null,dows:[],addressNo:null,paymentNo:null,totalPrice:null,milesAmount:0,coupon:{}})});(0,i.cn)({key:"amountChangeProductState/".concat((0,r.Z)()),default:[]});let a=(0,i.xu)({key:"mypageAddressState/".concat((0,r.Z)()),default:n=>({id:n,modify:!1})})}},function(n){n.O(0,[774,888,179],function(){return n(n.s=4610)}),_N_E=n.O()}]);