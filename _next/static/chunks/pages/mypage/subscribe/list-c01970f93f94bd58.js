(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[985],{4163:function(e,n,t){"use strict";var i=t(9521);t(1163);var o=t(5675),r=t.n(o),a=t(3735);t(7294);var s=t(5893),c=i.ZP.div.withConfig({displayName:"MypageTitle__MypageTitleWrapper",componentId:"sc-uuxqct-0"})(["position:relative;display:flex;align-items:center;padding-bottom:67px;border-bottom:1px solid #232323;@media ","{border-bottom:none;padding-bottom:0;margin-bottom:40px;}"],a.Uh.mobileL),d=i.ZP.div.withConfig({displayName:"MypageTitle__MypageTitleContainer",componentId:"sc-uuxqct-1"})(["text-align:center;width:100%;"]),l=i.ZP.div.withConfig({displayName:"MypageTitle__MypageTitleText",componentId:"sc-uuxqct-2"})(["font-size:28px;line-height:33px;font-weight:",";margin-bottom:12px;@media ","{font-size:20px;font-weight:",";}"],(0,a.Ue)("medium"),a.Uh.mobileL,(0,a.Ue)("regular")),u=i.ZP.div.withConfig({displayName:"MypageTitle__BackwardImageContainer",componentId:"sc-uuxqct-3"})(["position:absolute;left:0;top:17px;transform:translate(0%,-50%);img{cursor:pointer;}@media ","{img{width:28px;height:28px;}}"],a.Uh.mobileL);n.Z=function(e){var n=e.url,t=e.title,i=e.backward,o=function(e){location.href=e};return(0,s.jsxs)(c,{children:[!0===(void 0===i||i)&&(0,s.jsx)(u,{children:(0,s.jsx)(r(),{src:"/img/mypage/backward_icon.png",width:34,height:34,alt:"뒤로가기 아이콘",onClick:function(){return o(n)}})}),(0,s.jsx)(d,{children:(0,s.jsx)(l,{children:t})})]})}},3199:function(e,n,t){"use strict";var i=t(29),o=t(7794),r=t.n(o),a=t(9521),s=t(3735),c=t(8767),d=t(1896),l=t(4480),u=t(1746);t(7294);var p=t(1163),m=t.n(p),f=t(35),b=t(4163),g=t(5893),h=t(3454),x=a.ZP.div.withConfig({displayName:"SubscribeInfoList__SubscribeInfoWrapper",componentId:"sc-lmtko7-0"})(["display:flex;flex-direction:column;align-items:center;margin :142px 0 170px;@media ","{padding:80px 0px;margin:0px 0px 120px;}"],s.Uh.mobileL),y=a.ZP.div.withConfig({displayName:"SubscribeInfoList__SubscribeInfoContainer",componentId:"sc-lmtko7-1"})(["width:800px;@media ","{width:100%;padding:0 24px;div{margin-bottom:0px;}}"],s.Uh.mobileL),w=a.ZP.div.withConfig({displayName:"SubscribeInfoList__HeaderInfo",componentId:"sc-lmtko7-2"})(["font-size:16px;color:#767676;font-weight:",";span{font-size:16px;color:#767676;font-weight:",";}"],(0,s.Ue)("regular"),(0,s.Ue)("regular")),_=a.ZP.span.withConfig({displayName:"SubscribeInfoList__Colored",componentId:"sc-lmtko7-3"})(["color:#DC5F00 !important;"]),v=a.ZP.ul.withConfig({displayName:"SubscribeInfoList__SubscribeList",componentId:"sc-lmtko7-4"})([""]),I=a.ZP.li.withConfig({displayName:"SubscribeInfoList__SubscribeInfo",componentId:"sc-lmtko7-5"})(["border-bottom :8px solid #F1F1F5;margin-bottom:22px;"]),C=a.ZP.div.withConfig({displayName:"SubscribeInfoList__SubscribeInfoBody",componentId:"sc-lmtko7-6"})(["padding:24px 0 33px;h2{font-size:20px;font-weight:",";margin-bottom:10px;}@media ","{padding:26px 0 37px;h2{font-size:18px;font-weight:",";}}"],(0,s.Ue)("semiBold"),s.Uh.mobileL,(0,s.Ue)("semiBold")),k=a.ZP.div.withConfig({displayName:"SubscribeInfoList__InfoBody",componentId:"sc-lmtko7-7"})(["display:flex;margin-bottom:2px;p,span{display:block;font-size:16px;color:#767676;font-weight:",";}span{margin:0 10px;}@media ","{display:flex;flex-direction:column;span{display:none;}p{font-size:14px;line-height:18px;}}"],(0,s.Ue)("regular"),s.Uh.mobileL),S=a.ZP.div.withConfig({displayName:"SubscribeInfoList__InfoLabel",componentId:"sc-lmtko7-8"})(["width:123px;font-size:16px;color:#767676;@media ","{font-size:14px;font-weight:",";line-height:18px;margin-bottom:4px;}"],s.Uh.mobileL,(0,s.Ue)("regular")),L=a.ZP.div.withConfig({displayName:"SubscribeInfoList__InfoDetail",componentId:"sc-lmtko7-9"})(["@media ","{font-size:14px;font-weight:",";line-height:18px;}"],s.Uh.mobileL,(0,s.Ue)("regular")),Z=a.ZP.div.withConfig({displayName:"SubscribeInfoList__SubscribeInfoHeader",componentId:"sc-lmtko7-10"})(["display:flex;justify-content:space-between;align-items:center;font-size:16px;color:#767676;padding-bottom:12px;border-bottom:1px solid #F3F3F7;font-weight:",";span{font-size:16px;color:#767676;font-weight:",";}"],(0,s.Ue)("regular"),(0,s.Ue)("regular")),j=a.ZP.button.withConfig({displayName:"SubscribeInfoList__CancelButton",componentId:"sc-lmtko7-11"})(["width:fit-content;height:25px;border:1px solid #DBDBDB;border-radius:13px;background-color:#fefefe;padding:5px 10px;cursor:pointer;"," @media ","{font-size:12px;font-weight:",";}"],function(e){return!0==e.isCancel?(0,a.iv)(["color :#DBDBDB;pointer-events:none;"]):(0,a.iv)([""])},s.Uh.mobileL,(0,s.Ue)("regular")),P=a.ZP.div.withConfig({displayName:"SubscribeInfoList__MypageTitleContainer",componentId:"sc-lmtko7-12"})(["width:800px;div{border-bottom:none;}@media ","{width:100%;padding:0 24px;div{margin-bottom:0px;}}"],s.Uh.mobileL);n.Z=function(){var e,n=(0,l.sJ)(u.H9),t=(0,l.Zl)(u.H9);(0,c.useQuery)("getSubscribeList",function(){return o()},{onSuccess:function(e){var n=e.data;console.log("response",n),t(n.data)},onError:function(e){console.error("Error Occured : ",e)}});var o=(e=(0,i.Z)(r().mark(function e(){return r().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.Y)({method:"GET",withCredentials:!0,url:"".concat(h.env.NEXT_PUBLIC_API_SERVER,"/subscribe/list")});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)});return(0,g.jsxs)(x,{children:[(0,g.jsx)(P,{children:(0,g.jsx)(b.Z,{url:"/mypage",title:"구독관리"})}),(0,g.jsx)(y,{children:(0,g.jsx)(v,{children:n&&n.map(function(e,n){if(console.log("subscribeInfo",e),"subscribe"===e.subsType){var t,i;return(0,g.jsxs)(I,{children:[(0,g.jsxs)(Z,{children:[(0,g.jsxs)(w,{children:[e.addressLabel," ꞏ ","normal"===e.statusCode?(0,g.jsx)(_,{children:"구독중"}):(0,g.jsx)("span",{children:"구독해지"})]}),(0,g.jsx)(j,{onClick:function(){m().push("/mypage/subscribe/cancel/".concat(e.subsNo))},isCancel:"normal"!==e.statusCode,children:"구독해지"})]}),(0,g.jsxs)(C,{children:[(0,g.jsxs)(k,{children:[(0,g.jsx)(S,{children:" 구독 메뉴 "})," ",(0,g.jsx)(L,{children:(t=e.product.filter(function(n){return e.dows.split(",").includes(n.dow)}),i={},t.forEach(function(e){var n=e.dow,t=e.name;i[n]||(i[n]={}),i[n][t]||(i[n][t]=0),i[n][t]+=e.amount}),Object.keys(i).map(function(e){var n=i[e],t=Object.keys(n).map(function(e){var t=n[e];return"".concat(e," ").concat(t,"개")}).join(", ");return"".concat(e," - ").concat(t)}).join(" / "))})]}),(0,g.jsxs)(k,{children:[(0,g.jsx)(S,{children:" 구독 시작일"})," ",(0,g.jsxs)(L,{children:[" ",f.y.DateFormatting(e.regDate).split(" ")[0]]})]})]})]},"subscribeList".concat(e.subsNo))}})})})]})}},8716:function(e,n,t){"use strict";t.r(n);var i=t(9521),o=t(3199),r=t(5893),a=i.ZP.div.withConfig({displayName:"list__SubscribeListMainWrapper",componentId:"sc-1wls6ob-0"})([""]);n.default=function(){return(0,r.jsx)(a,{children:(0,r.jsx)(o.Z,{})})}},1746:function(e,n,t){"use strict";t.d(n,{H9:function(){return s},Pm:function(){return r},Pn:function(){return d},Vy:function(){return c},ne:function(){return a}});var i=t(4480),o=t(5007);(0,i.cn)({key:"mypageUserState/".concat((0,o.Z)()),default:{}});var r=(0,i.cn)({key:"pauseModalState/".concat((0,o.Z)()),default:{modalActive:!1,pause:!0,pauseDeliveryDate:null}}),a=(0,i.xu)({key:"mypageSubscribeCalendar/".concat((0,o.Z)()),default:function(e){return{id:e,selectedDate:new Date,orderInfo:[],menuList:[]}}});(0,i.cn)({key:"mypageUserPasswordState/".concat((0,o.Z)()),default:{isModifying:!1,currentPassword:null,userPassword:null,duplicated:!1,validation:null}}),(0,i.cn)({key:"mypageSubscribeInfoState/".concat((0,o.Z)()),default:[]});var s=(0,i.cn)({key:"mypageSubscribeListState/".concat((0,o.Z)()),default:[]}),c=(0,i.xu)({key:"amountChangeState/".concat((0,o.Z)()),default:function(e){return{id:e,product:[],period:4,deliveryDate:null,dows:[],addressNo:null,paymentNo:null,totalPrice:null,milesAmount:0,coupon:{}}}});(0,i.cn)({key:"amountChangeProductState/".concat((0,o.Z)()),default:[]});var d=(0,i.xu)({key:"mypageAddressState/".concat((0,o.Z)()),default:function(e){return{id:e,modify:!1}}})},855:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mypage/subscribe/list",function(){return t(8716)}])}},function(e){e.O(0,[774,888,179],function(){return e(e.s=855)}),_N_E=e.O()}]);