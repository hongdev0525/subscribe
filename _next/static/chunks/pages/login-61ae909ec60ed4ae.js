(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{2070:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(6594)}])},6594:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return G}});var r=t(7297),o=t(5893),i=t(7294),l=t(9521),a=t(5838),u=t(8264);function c(){let n=(0,r.Z)(["\n  margin-top: 80px;\n  font-size: 28px;\n  font-weight: ",";\n  color: #232323;\n"]);return c=function(){return n},n}function d(){let n=(0,r.Z)(["\n  height: 56px;\n  width: 364px;\n  border: none;\n  border-bottom: 1px solid #dbdbdb;\n  padding: 0 10px;\n  ::placeholder {\n    font-size: 16px;\n    font-weight: normal;\n    color: #767676;\n  }\n"]);return d=function(){return n},n}function s(){let n=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  font-size: 14px;\n  font-weight: normal;\n  text-align: left;\n  color: #dc5f00;\n  margin: 4px 0 16px 0;\n"]);return s=function(){return n},n}function f(){let n=(0,r.Z)(["\n  width: 364px;\n  height: 56px;\n  border-radius: 12px;\n  background-color: ",";\n  color: ",";\n  border: ",";\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n"]);return f=function(){return n},n}let p=l.ZP.h1(c(),(0,u.U)("medium")),x=l.ZP.input(d()),h=l.ZP.p(s()),g=l.ZP.button(f(),n=>n.background,n=>n.color,n=>n.border);var m=t(8767),b=t(1163),w=t.n(b),j=t(5675),Z=t.n(j),k=t(9971),P=t(5518),_=t(2490),y=t(3454);function v(){let n=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  width: 100%;\n"]);return v=function(){return n},n}function E(){let n=(0,r.Z)(["\n  display: flex;\n  box-sizing: border-box;\n  flex-direction: column;\n  width: 460px;\n  margin-top: 24px;\n  margin-bottom: 170px;\n  padding: 40px 48px;\n  border-radius: 10px;\n  background-color: #ffffff;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n  @media "," {\n    box-shadow: none;\n    width: 100%;\n    padding: 0 24px;\n  }\n"]);return E=function(){return n},n}function C(){let n=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 43px;\n  margin-bottom: 40px;\n  gap: 16px;\n  @media "," {\n    margin-top: 20px;\n      button{\n      width:100%;\n      font-size: 16px;\n      font-weight: ",";\n      line-height: 28px;\n      gap: 11px;\n      border-radius: 5px;\n    }\n  }\n"]);return C=function(){return n},n}function z(){let n=(0,r.Z)(["\n  width: 100%;\n"]);return z=function(){return n},n}function B(){let n=(0,r.Z)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  margin-bottom: 16px;\n  @media "," {\n    margin-bottom: 10px;\n     input{\n      width: 100%;\n      background-color: #F3F3F7;\n      border: none;\n      padding: 0 12px;\n      margin-bottom: 0px;\n     }\n     input::placeholder{\n      font-size: 14px;\n      line-height: 28px;\n      font-weight: ",";\n      color: #999999\n     }\n     p{\n      margin-top:4px;\n      padding-left:12px;\n     }\n  }\n"]);return B=function(){return n},n}function D(){let n=(0,r.Z)(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 20px;\n"]);return D=function(){return n},n}function U(){let n=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n"]);return U=function(){return n},n}function I(){let n=(0,r.Z)(["\n  display: flex;\n  width: 19px;\n  height: 19px;\n  border-radius: 100%;\n  border: 1px solid #bababa;\n"]);return I=function(){return n},n}function K(){let n=(0,r.Z)(["\n  display: flex;\n  margin-left: 6px;\n  font-size: 16px;\n  font-weight: normal;\n"]);return K=function(){return n},n}function L(){let n=(0,r.Z)(["\n  font-size: 16px;\n  font-weight: normal;\n  color: #767676;\n  cursor: pointer;\n  @media "," {\n    display: flex;\n    justify-content: center;\n    font-size: 14px;\n    font-weight: ",";\n    color:#767676;\n    padding: 30px 0;\n    border-bottom: 1px solid #DBDBDB;\n    span{\n      display: block;\n      color:#DBDBDB;\n      margin:0 10px;\n    }\n  }\n"]);return L=function(){return n},n}function N(){let n=(0,r.Z)(["\n\n@media "," {\n   font-size:20px;\n   line-height: 28px;\n   font-weight: ",";\n  }\n"]);return N=function(){return n},n}function T(){let n=(0,r.Z)(["\n  font-size:14px;\n  line-height: 28px;\n  font-weight: ",";\n  margin: 30px auto;\n"]);return T=function(){return n},n}function A(){let n=(0,r.Z)(["\n  object-fit: cover;\n"]);return A=function(){return n},n}let S=l.ZP.div(v()),O=l.ZP.div(E(),k.Uh.mobileL),R=l.ZP.div(C(),k.Uh.mobileL,(0,k.Ue)("medium")),X=l.ZP.div(z()),F=l.ZP.div(B(),k.Uh.mobileL,(0,k.Ue)("regular")),Y=l.ZP.div(D()),q=l.ZP.div(U());l.ZP.div(I()),l.ZP.label(K());let V=l.ZP.div(L(),k.Uh.mobileL,(0,k.Ue)("regular")),W=(0,l.ZP)(p)(N(),k.Uh.mobileL,(0,k.Ue)("regular")),J=l.ZP.p(T(),(0,k.Ue)("regular"));(0,l.ZP)(Z())(A());var M=function(){(0,b.useRouter)();let[n,e]=(0,i.useState)(),[t,r]=(0,i.useState)({}),[l,u]=(0,i.useState)(!1),[c,d]=(0,i.useState)(null),s=(0,i.useRef)(null),{refetch:f}=(0,m.useQuery)(["requestLogin",t],()=>Z(t),{enabled:!1,onSuccess:n=>{if(200===n.status){let e=n.data;"not found"===e.status?alert("회원정보가 없습니다."):"fail"===e.status&&"Wrong password"===e.error?alert("비밀번호가 일치하지 않습니다."):(_.y.setItemWithExpireTime("loggedIn",!0,1296e4),location.replace("/"))}else console.error(n)},onError:n=>{alert("로그인에 실패했습니다."),console.error("Error Occured : ",n)}}),p=n=>{let t=n.target.value;return/^([a-z0-9\+_\-]+)(\.[a-z0-9\+_\-]+)*@([a-z0-9\-]+\.)+[a-z]{2,6}$/i.test(t)?e(!0):e(!1),{value:t,validation:!1}},j=n=>{r({...t,[n.target.id]:n.target.value})},Z=async n=>await (0,a.Y)({method:"POST",data:n,withCredentials:!0,url:"".concat(y.env.NEXT_PUBLIC_API_SERVER,"/login")}),k=()=>{var n,e;if(0===Object.keys(t).length)return alert("로그인정보를 입력해주세요."),!1;t.userEmail&&(null===(n=t.userEmail)||void 0===n?void 0:n.length)!==0?t.userPassword&&(null===(e=t.userPassword)||void 0===e?void 0:e.length)!==0?f():alert("비밀번호를 입력해주세요."):alert("아이디를 입력해주세요.")},v=n=>{w().push(n)},E=()=>{let n="https://kauth.kakao.com/oauth/authorize?response_type=code&client_id=".concat(y.env.NEXT_PUBLIC_KAKAO_RESTAPI_KEY,"&redirect_uri=").concat(y.env.NEXT_PUBLIC_DOMAIN+"/login/kakaologin");location.href=n};function C(n){"Enter"===n.key&&k()}return(0,i.useEffect)(()=>{d(P.tq),Kakao&&!Kakao.isInitialized()&&(Kakao.init("".concat(y.env.NEXT_PUBLIC_KAKAO_JAVASCRIPT_KEY)),console.log(window.Kakao.isInitialized()))},[]),(0,o.jsxs)(S,{children:[(0,o.jsx)(W,{children:"로그인"}),!c&&(0,o.jsxs)(O,{children:[(0,o.jsxs)(X,{children:[(0,o.jsxs)(F,{children:[(0,o.jsx)(x,{id:"userEmail",type:"email",name:"email",placeholder:"이메일을 입력하세요",onBlur:n=>p(n),onChange:j,ref:s,onKeyDown:C}),!1===n&&(0,o.jsx)(h,{children:"이메일을 정확히 입력해주세요"})]}),(0,o.jsx)(F,{children:(0,o.jsx)(x,{id:"userPassword",type:"password",name:"password",placeholder:"비밀번호를 입력하세요",onChange:j,ref:s,onKeyDown:C})})]}),(0,o.jsxs)(Y,{children:[(0,o.jsx)(q,{}),(0,o.jsx)(V,{onClick:()=>v("/login/find"),children:"아이디/비밀번호 찾기"})]}),(0,o.jsxs)(R,{children:[(0,o.jsx)(g,{onClick:()=>k(),color:"#ffffff",background:"#dc5f00",border:"none",children:"로그인 하기"}),(0,o.jsx)(g,{onClick:E,color:"#000000",background:"#FEE500",border:"none",children:"카카오로 시작하기"})]}),(0,o.jsx)(g,{onClick:()=>v("/signup"),color:"#000000",background:"#ffffff",border:"1px solid #DBDBDB",children:"회원가입 하기"})]}),c&&(0,o.jsxs)(O,{children:[(0,o.jsxs)(X,{children:[(0,o.jsxs)(F,{children:[(0,o.jsx)(x,{id:"userEmail",type:"email",name:"email",placeholder:"이메일을 입력하세요",onBlur:n=>p(n),onChange:j}),!1===n&&(0,o.jsx)(h,{children:"이메일을 정확히 입력해주세요"})]}),(0,o.jsx)(F,{children:(0,o.jsx)(x,{id:"userPassword",type:"password",name:"password",placeholder:"비밀번호를 입력하세요",onChange:j})})]}),(0,o.jsxs)(R,{children:[(0,o.jsx)(g,{onClick:()=>k(),color:"#ffffff",background:"#dc5f00",border:"none",children:"로그인"}),(0,o.jsx)(g,{onClick:()=>v("/signup"),color:"#000000",background:"#ffffff",border:"1px solid #DBDBDB",children:"회원가입 하기"}),(0,o.jsxs)(V,{onClick:()=>v("/login/find"),children:["아이디찾기 ",(0,o.jsx)("span",{children:"|"})," 비밀번호 찾기"]}),(0,o.jsx)(J,{children:"카카오로 간편하게 시작하세요"}),(0,o.jsx)(g,{onClick:E,color:"#000000",background:"#FEE500",border:"none",children:"카카오로 시작하기"})]})]})]})};function Q(){let n=(0,r.Z)(["\n    display: flex;\n    justify-content: center;\n    width: 100%;\n    height: 100%;\n"]);return Q=function(){return n},n}let $=l.ZP.div(Q());var G=function(){return(0,o.jsx)($,{children:(0,o.jsx)(M,{})})}}},function(n){n.O(0,[774,888,179],function(){return n(n.s=2070)}),_N_E=n.O()}]);